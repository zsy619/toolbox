<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO优化信息 -->
    <title>专业级在线图片拆分工具 - 免费图片分割 | 支持2-16张图片拆分</title>
    <meta name="description" content="专业的在线图片拆分工具，支持将一张图片按照多种布局模板拆分成多张图片。完全参考拼图工具布局，提供可调整画布、拖拽布局、自定义尺寸比例。免费使用，无需注册，支持JPG、PNG、WebP格式导出。">
    <meta name="keywords" content="图片拆分,图片分割,在线拆分,图片切割,照片分割,图片编辑,免费拆分工具">
    <meta name="author" content="专业工具箱">
    <meta name="robots" content="index, follow">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="专业级在线图片拆分工具 - 免费图片分割">
    <meta property="og:description" content="支持多种布局模板拆分图片，可调整画布大小，拖拽布局设计，专业的在线图片拆分工具">
    <meta property="og:image" content="">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="">
    <meta property="twitter:title" content="专业级在线图片拆分工具">
    <meta property="twitter:description" content="免费的图片拆分分割工具，支持多种布局和导出格式">
    <meta property="twitter:image" content="">
    <!-- Canonical URL -->
    <link rel="canonical" href="">
    <!-- 外部资源 -->
    <link rel="stylesheet" href="../assets/css/layui.min.css">
    <link rel="stylesheet" href="../assets/css/fontawesome.min.css">
    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "专业级图片拆分工具",
        "description": "免费的在线图片拆分分割工具，支持多种布局模板和可调画布",
        "url": "",
        "applicationCategory": "PhotographyApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY"
        },
        "featureList": [
            "图片拆分分割",
            "多种布局模板",
            "可调整画布大小",
            "拖拽布局",
            "批量下载",
            "响应式设计"
        ]
    }
    </script>
    <style>
        :root {
            /* 参考排列3页面的扁平化配色方案 */
            --primary: #e67e22;
            --primary-light: #eb984e;
            --primary-dark: #d35400;
            --secondary: #3498db;
            --accent: #2ecc71;
            --success: #27ae60;
            --warning: #f39c12;
            --error: #e74c3c;
            --info: #3498db;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --text-disabled: #bdc3c7;
            --border: #e0e0e0;
            --border-light: #f8f9fa;
            --bg-white: #ffffff;
            --bg-light: #f8f9fa;
            --bg-gray: #ecf0f1;
            /* 移除所有阴影效果 */
            --shadow-none: none;
            /* 扁平化圆角设计 */
            --radius-none: 0;
            --radius-sm: 2px;
            --radius-md: 4px;
            --radius-lg: 6px;
            /* 简化过渡效果 */
            --transition: all 0.2s ease;
            /* 主色透明度变量 */
            --primary-rgba-10: rgba(230, 126, 34, 0.1);
            --primary-rgba-20: rgba(230, 126, 34, 0.2);
            --primary-rgba-30: rgba(230, 126, 34, 0.3);
            --primary-rgba-40: rgba(230, 126, 34, 0.4);
            --primary-rgba-60: rgba(230, 126, 34, 0.6);
            --primary-rgba-70: rgba(230, 126, 34, 0.7);
        }

        /* 网格拖拽虚线 */
        .grid-divider-line {
            position: absolute;
            z-index: 15;
            opacity: 0.6;
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: auto;
            will-change: transform, opacity;
        }
        
        .grid-divider-line.active {
            opacity: 1;
        }
        
        .grid-divider-line.vertical {
            width: 12px;
            height: 100%;
            background: linear-gradient(to right, 
                transparent 2px, 
                var(--primary-rgba-20) 2px, 
                var(--primary-rgba-40) 3px, 
                var(--primary-rgba-70) 4px, 
                var(--primary) 5px, 
                var(--primary) 7px, 
                var(--primary-rgba-70) 8px, 
                var(--primary-rgba-40) 9px, 
                var(--primary-rgba-20) 10px, 
                transparent 10px);
            border-left: 1px solid var(--primary-rgba-60);
            border-right: 1px solid var(--primary-rgba-60);
            cursor: ew-resize;
            transform: translateX(-6px);
            box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.4);
        }
        
        .grid-divider-line.horizontal {
            width: 100%;
            height: 12px;
            background: linear-gradient(to bottom, 
                transparent 2px, 
                var(--primary-rgba-20) 2px, 
                var(--primary-rgba-40) 3px, 
                var(--primary-rgba-70) 4px, 
                var(--primary) 5px, 
                var(--primary) 7px, 
                var(--primary-rgba-70) 8px, 
                var(--primary-rgba-40) 9px, 
                var(--primary-rgba-20) 10px, 
                transparent 10px);
            border-top: 1px solid var(--primary-rgba-60);
            border-bottom: 1px solid var(--primary-rgba-60);
            cursor: ns-resize;
            transform: translateY(-6px);
            box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.4);
        }
        
        .grid-divider-line:hover {
            opacity: 1 !important;
            transform: scale(1.15) translateX(-6px);
            box-shadow: 0 0 8px rgba(230, 126, 34, 0.5), 0 0 0 2px rgba(255, 255, 255, 0.6);
            background: linear-gradient(to right, 
                transparent 1px, 
                var(--primary-rgba-30) 1px, 
                var(--primary-rgba-60) 2px, 
                var(--primary) 3px, 
                var(--primary) 9px, 
                var(--primary-rgba-60) 10px, 
                var(--primary-rgba-30) 11px, 
                transparent 11px) !important;
        }
        
        .grid-divider-line.horizontal:hover {
            transform: scale(1.15) translateY(-6px);
            background: linear-gradient(to bottom, 
                transparent 1px, 
                var(--primary-rgba-30) 1px, 
                var(--primary-rgba-60) 2px, 
                var(--primary) 3px, 
                var(--primary) 9px, 
                var(--primary-rgba-60) 10px, 
                var(--primary-rgba-30) 11px, 
                transparent 11px) !important;
        }
        
        .grid-divider-line.dragging {
            opacity: 1 !important;
            transform: scale(1.3) translateX(-6px);
            box-shadow: 0 0 12px rgba(230, 126, 34, 0.8), 0 0 0 3px rgba(255, 255, 255, 0.9);
            transition: none;
            background: linear-gradient(to right, 
                var(--primary-rgba-40), 
                var(--primary), 
                var(--primary), 
                var(--primary-rgba-40)) !important;
        }
        
        .grid-divider-line.horizontal.dragging {
            transform: scale(1.3) translateY(-6px);
            background: linear-gradient(to bottom, 
                var(--primary-rgba-40), 
                var(--primary), 
                var(--primary), 
                var(--primary-rgba-40)) !important;
        }
        
        /* 网格区域拖拽线显示优化 */
        .preview-canvas .grid-divider-line {
            opacity: 0.6;
        }
        
        .preview-canvas:hover .grid-divider-line {
            opacity: 0.8;
        }
        
        .preview-canvas .grid-divider-line:hover {
            opacity: 1 !important;
        }
        
        /* 拖拽时的预览效果 */
        .preview-canvas.dragging-divider {
            transition: all 0.1s ease-out;
        }
        
        .preview-canvas.dragging-divider .split-cell {
            transition: all 0.1s ease-out;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--bg-light);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            color: var(--text-primary);
            line-height: 1.5;
            min-height: 100vh;
            font-size: 14px;
        }

        /* 扁平化头部 */
        .header {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border);
            box-shadow: var(--shadow-none);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .logo i {
            font-size: 20px;
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        /* 颜色选择器样式 */
        .color-picker-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .color-options {
            display: flex;
            gap: 4px;
        }

        .color-option {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-none);
            background: none;
            outline: none;
        }

        .color-option:hover {
            transform: scale(1.1);
            border-color: var(--text-primary);
        }

        .color-option.active {
            border-color: var(--text-primary);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }

        .btn-flat {
            border: 1px solid var(--border);
            background: var(--bg-white);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: var(--radius-none);
            font-size: 14px;
            font-weight: 400;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-flat:hover {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--bg-white);
        }

        /* 主容器 - 调整为全宽布局 */
        .main-container {
            max-width: 100%;
            margin: 24px auto;
            padding: 0 20px;
        }

        .content-wrapper {
            background: var(--bg-white);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            border: 1px solid var(--border);
            overflow: hidden;
            min-height: calc(100vh - 100px);
        }

        /* 左侧布局面板 - 浮动拖拽面板 */
        .layout-panel {
            width: 350px;
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            padding: 20px 16px;
            overflow-y: auto;
            position: fixed;
            top: 150px;
            left: 20px;
            height: calc(100vh - 200px - 40px);
            min-height: 400px;
            z-index: 1000;
            transition: var(--transition);
            cursor: move;
        }

        .layout-panel.collapsed {
            transform: translateX(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .layout-panel.dragging {
            cursor: grabbing;
            user-select: none;
            box-shadow: var(--shadow-none);
            border: 2px solid var(--primary);
            transition: none;
            will-change: transform;
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            padding: 12px;
            background: var(--bg-light);
            border-radius: var(--radius-none);
            border: 1px solid var(--border-light);
            cursor: move;
            position: relative;
        }

        .panel-header:hover {
            background: var(--bg-gray);
            border-color: var(--primary);
        }

        .panel-header::after {
            content: '⋮⋮';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-disabled);
            font-size: 12px;
            line-height: 1;
            letter-spacing: -2px;
        }

        .panel-header i {
            color: var(--primary);
            font-size: 16px;
        }

        .panel-header h3 {
            font-size: 16px;
            font-weight: 500;
            color: var(--text-primary);
            margin: 0;
        }

        .layout-category {
            margin-bottom: 12px;
        }

        .category-header {
            background: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 10px 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .category-header:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-none);
            background: var(--bg-light);
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .category-title i {
            color: var(--primary);
            font-size: 14px;
        }

        .category-arrow {
            color: var(--text-disabled);
            font-size: 10px;
            transition: var(--transition);
        }

        .category-header.expanded .category-arrow {
            transform: rotate(90deg);
        }

        .layout-content {
            display: block;
        }

        .layout-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 0 4px;
        }

        .layout-item {
            background: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 12px 8px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 98px;
            height: 98px;
        }

        .layout-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-none);
            background: var(--bg-light);
        }

        .layout-item.active {
            border-color: var(--primary);
            background: rgba(230, 126, 34, 0.1);
            box-shadow: var(--shadow-none);
        }

        .layout-preview {
            width: 80px;
            height: 80px;
            margin: 0;
            display: grid;
            gap: 2px;
            border-radius: 2px;
            overflow: hidden;
            position: relative;
            background: #f8f9fa;
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 3px;
        }

        .layout-cell {
            background: var(--primary);
            opacity: 0.5;
            min-height: 10px;
            min-width: 10px;
            border-radius: var(--radius-none);
            transition: var(--transition);
        }

        /* 布局项悬停效果 */
        .layout-item:hover .layout-preview .layout-cell {
            opacity: 0.8;
            transform: scale(0.98);
        }

        /* 中间预览区域 - 全宽布局 */
        .preview-panel {
            width: 100%;
            height: 100%;
            padding: 24px;
            display: flex;
            flex-direction: column;
            background: var(--bg-white);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
        }

        .header-actions {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .panel-toggle {
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-none);
            padding: 6px 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .panel-toggle:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .panel-toggle i {
            font-size: 12px;
        }

        .image-counter {
            background: var(--secondary);
            color: white;
            padding: 4px 10px;
            border-radius: var(--radius-none);
            font-size: 11px;
            font-weight: 500;
        }

        .preview-container {
            flex: 1;
            background: var(--bg-light);
            border: 1px dashed var(--border);
            border-radius: var(--radius-none);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            min-height: calc(100vh - 230px);
            max-height: calc(100vh - 200px);
            overflow: auto;
            transition: var(--transition);
        }

        .preview-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 100%;
            min-height: 100%;
        }

        .preview-canvas {
            position: relative;
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            overflow: visible;
            flex-shrink: 0;
        }

        /* 网格预览系统 */
        .preview-grid {
            width: 100%;
            height: 100%;
            display: grid;
            gap: 10px;
            padding: 10px;
            position: relative;
            z-index: 2;
        }

        .grid-cell {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed var(--primary);
            border-radius: var(--radius-none);
            overflow: visible;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            min-height: 100px;
        }

        .grid-cell:hover {
            border-color: var(--accent);
            box-shadow: 0 0 0 1px var(--accent);
            background: rgba(230, 126, 34, 0.2);
        }

        .grid-cell.has-image {
            border-style: solid;
            border-color: var(--accent);
        }

        .grid-cell img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--radius-none);
        }

        .cell-index {
            position: absolute;
            bottom: 6px;
            left: 6px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
        }
        

        /* 图片操作工具栏 */
        .image-tools {
            position: absolute;
            top: 6px;
            right: 6px;
            display: flex;
            gap: 2px;
            opacity: 0;
            transition: var(--transition);
            z-index: 20;
            pointer-events: auto;
        }

        .grid-cell:hover .image-tools {
            opacity: 1;
        }

        .split-grid {
            width: 100%;
            height: 100%;
            display: grid;
            gap: 10px;
        }

        .split-cell {
            position: relative;
            background: var(--bg-white);
            border: 1px dashed var(--border);
            border-radius: var(--radius-none);
            overflow: visible;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            min-height: 100px;
        }

        .split-cell:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-none);
            background: var(--bg-light);
        }

        .split-cell.has-image {
            border-style: solid;
            border-color: var(--accent);
        }

        .split-cell img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--radius-none);
        }

        .upload-hint {
            text-align: center;
            color: var(--text-disabled);
            padding: 16px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            min-width: 300px;
        }

        .upload-hint i {
            font-size: 28px;
            margin-bottom: 6px;
            display: block;
            color: var(--text-disabled);
        }

        .image-tools {
            position: absolute;
            top: 6px;
            right: 6px;
            display: flex;
            gap: 2px;
            opacity: 0;
            transition: var(--transition);
            z-index: 20;
            pointer-events: auto;
        }

        .split-cell:hover .image-tools {
            opacity: 1;
        }

        .tool-btn {
            width: 24px;
            height: 24px;
            border-radius: var(--radius-none);
            border: 1px solid var(--border);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            transition: var(--transition);
            background: var(--bg-white);
            color: var(--text-secondary);
            box-shadow: var(--shadow-none);
            position: relative;
            z-index: 21;
            pointer-events: auto;
        }

        .tool-btn:hover {
            background: var(--bg-light);
            color: var(--text-primary);
            border-color: var(--primary);
        }

        /* 可调整大小的画布 */
        .resizable-canvas {
            user-select: none;
        }

        .resizable-canvas:hover .resize-handles {
            opacity: 1;
        }

        /* 拖拽手柄容器 */
        .resize-handles {
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
        }

        .resize-handles.active {
            opacity: 1;
        }

        /* 拖拽手柄基础样式 */
        .resize-handle {
            position: absolute;
            pointer-events: auto;
            background: var(--primary);
            border: 1px solid var(--bg-white);
            transition: all 0.2s ease;
        }

        .resize-handle:hover {
            background: var(--primary-dark);
            transform: scale(1.2);
        }

        /* 四角手柄 */
        .resize-handle.corner {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .resize-handle.corner.nw {
            top: 0;
            left: 0;
            cursor: nw-resize;
        }

        .resize-handle.corner.ne {
            top: 0;
            right: 0;
            cursor: ne-resize;
        }

        .resize-handle.corner.sw {
            bottom: 0;
            left: 0;
            cursor: sw-resize;
        }

        .resize-handle.corner.se {
            bottom: 0;
            right: 0;
            cursor: se-resize;
        }

        /* 边缘手柄 */
        .resize-handle.edge {
            background: var(--primary);
            border-radius: 2px;
        }

        .resize-handle.edge.n,
        .resize-handle.edge.s {
            width: 20px;
            height: 4px;
            left: 50%;
            transform: translateX(-50%);
        }

        .resize-handle.edge.n {
            top: 0;
            cursor: n-resize;
        }

        .resize-handle.edge.s {
            bottom: 0;
            cursor: s-resize;
        }

        .resize-handle.edge.w,
        .resize-handle.edge.e {
            width: 4px;
            height: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .resize-handle.edge.w {
            left: 0;
            cursor: w-resize;
        }

        .resize-handle.edge.e {
            right: 0;
            cursor: e-resize;
        }

        /* 辅助线容器 */
        .canvas-guides {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .canvas-guides.active {
            opacity: 1;
        }

        /* 辅助线 */
        .guide-line {
            position: absolute;
            background: var(--primary);
            opacity: 0.6;
        }

        .guide-h {
            width: 100%;
            height: 1px;
            top: 0;
        }

        .guide-v {
            height: 100%;
            width: 1px;
            left: 0;
        }

        .guide-center-h,
        .guide-center-v {
            position: absolute;
            background: var(--accent);
            opacity: 0.8;
        }

        .guide-center-h {
            width: 100%;
            height: 1px;
            top: 50%;
        }

        .guide-center-v {
            height: 100%;
            width: 1px;
            left: 50%;
        }

        /* 网格背景 */
        .canvas-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
            background-image: 
                linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .canvas-grid.active {
            opacity: 1;
        }

        /* 主容器 - 调整为全宽布局 */
        .main-container {
            max-width: 100%;
            margin: 24px auto;
            padding: 0 20px;
        }

        .content-wrapper {
            background: var(--bg-white);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            border: 1px solid var(--border);
            overflow: hidden;
            min-height: calc(100vh - 100px);
        }

        /* 左侧布局面板 - 浮动拖拽面板 */
        .layout-panel {
            width: 350px;
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            padding: 20px 16px;
            overflow-y: auto;
            position: fixed;
            top: 150px;
            left: 20px;
            height: calc(100vh - 200px - 40px);
            min-height: 400px;
            z-index: 1000;
            transition: var(--transition);
            cursor: move;
        }

        .layout-panel.collapsed {
            transform: translateX(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .layout-panel.dragging {
            cursor: grabbing;
            user-select: none;
            box-shadow: var(--shadow-none);
            border: 2px solid var(--primary);
            transition: none;
            will-change: transform;
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            padding: 12px;
            background: var(--bg-light);
            border-radius: var(--radius-none);
            border: 1px solid var(--border-light);
            cursor: move;
            position: relative;
        }

        .panel-header:hover {
            background: var(--bg-gray);
            border-color: var(--primary);
        }

        .panel-header::after {
            content: '⋮⋮';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-disabled);
            font-size: 12px;
            line-height: 1;
            letter-spacing: -2px;
        }

        .panel-header i {
            color: var(--primary);
            font-size: 16px;
        }

        .panel-header h3 {
            font-size: 16px;
            font-weight: 500;
            color: var(--text-primary);
            margin: 0;
        }

        .layout-category {
            margin-bottom: 12px;
        }

        .category-header {
            background: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 10px 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .category-header:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-none);
            background: var(--bg-light);
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .category-title i {
            color: var(--primary);
            font-size: 14px;
        }

        .category-arrow {
            color: var(--text-disabled);
            font-size: 10px;
            transition: var(--transition);
        }

        .category-header.expanded .category-arrow {
            transform: rotate(90deg);
        }

        .layout-content {
            display: block;
        }

        .layout-content.collapsed {
            display: none;
        }

        .layout-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 0 4px;
        }

        .layout-item {
            background: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 12px 8px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 98px;
            height: 98px;
        }

        .layout-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-none);
            background: var(--bg-light);
        }

        .layout-item.active {
            border-color: var(--primary);
            background: rgba(230, 126, 34, 0.1);
            box-shadow: var(--shadow-none);
        }

        .layout-preview {
            width: 80px;
            height: 80px;
            margin: 0;
            display: grid;
            gap: 2px;
            border-radius: 2px;
            overflow: hidden;
            position: relative;
            background: #f8f9fa;
            border: 1px solid var(--border-light);
            border-radius: var(--radius-none);
            padding: 3px;
        }

        .layout-cell {
            background: var(--primary);
            opacity: 0.5;
            min-height: 10px;
            min-width: 10px;
            border-radius: var(--radius-none);
            transition: var(--transition);
        }

        /* 布局预览的具体样式定义 */
        .layout-2-1 { grid-template-columns: 1fr 1fr; }
        .layout-2-2 { grid-template-rows: 1fr 1fr; }

        .layout-3-1 { grid-template-columns: repeat(3, 1fr); }
        .layout-3-2 { grid-template-rows: repeat(3, 1fr); }
        .layout-3-3 { grid-template-columns: 2fr 1fr; grid-template-rows: 1fr 1fr; }
        .layout-3-4 { grid-template-columns: 1fr 2fr; grid-template-rows: 1fr 1fr; }
        .layout-3-5 { grid-template-columns: 1fr 1fr; grid-template-rows: 2fr 1fr; }
        .layout-3-6 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 2fr; }
        .layout-3-7 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
        .layout-3-8 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
        .layout-3-9 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
        .layout-3-10 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
        .layout-3-11 { grid-template-columns: 1fr 1fr; grid-template-rows: 2fr 1fr; }
        .layout-3-12 { grid-template-columns: 2fr 1fr; grid-template-rows: 2fr 1fr; }

        .layout-4-1 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-4-2 { grid-template-columns: repeat(4, 1fr); grid-template-rows: 1fr; }
        .layout-4-3 { grid-template-columns: 1fr; grid-template-rows: repeat(4, 1fr); }
        .layout-4-4 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-4-5 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-4-6 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-4-7 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-4-8 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-4-9 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-4-10 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-4-11 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-4-12 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }

        .layout-5-1 { grid-template-columns: repeat(5, 1fr); grid-template-rows: 1fr; }
        .layout-5-2 { grid-template-columns: 1fr; grid-template-rows: repeat(5, 1fr); }
        .layout-5-3 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-4 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; }
        .layout-5-5 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; }
        .layout-5-6 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; }
        .layout-5-7 { grid-template-columns: 1fr 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; }
        .layout-5-8 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-9 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-10 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-11 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-12 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-13 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-14 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-5-15 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }

        .layout-6-1 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-6-2 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-6-4 { grid-template-columns: 1fr; grid-template-rows: repeat(6, 1fr); }
        .layout-6-5 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(2, 1fr); }
        .layout-6-6 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-6-7 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-6-8 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-6-9 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-6-10 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-6-12 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }

        .layout-7-1 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-7-2 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-4 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-5 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-6 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-7 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-8 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-7-9 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-10 { grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-7-11 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-7-12 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-7-13 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-7-14 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-15 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-7-16 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-7-17 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-7-18 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }

        .layout-8-1 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
        }

        .layout-8-2 {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-3 {
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(1, 1fr);
        }

        .layout-8-4 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-5 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-6 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-7 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-8 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-9 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-10 {
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: repeat(12, 1fr);
        }

        .layout-8-11 {
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(6, 1fr);
        }

        .layout-8-12 {
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(6, 1fr);
        }

        .layout-8-13 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-14 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-15 {
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: repeat(14, 1fr);
        }

        .layout-8-16 {
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(6, 1fr);
        }

        .layout-8-17 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(6, 1fr);
        }

        .layout-8-18 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-19 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-8-20 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-8-21 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(5, 1fr);
        }

        .layout-8-22 {
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-9-1 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-9-2 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-4 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-5 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-6 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-7 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); }
        .layout-9-8 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-9-9 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-9-10 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-9-11 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-9-12 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-9-13 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-9-14 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-9-15 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }

        .layout-10-1 { grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(5, 1fr); }
        .layout-10-2 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-10-3 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-10-4 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-10-5 { grid-template-columns: repeat(8, 1fr); grid-template-rows: repeat(8, 1fr); }
        .layout-10-6 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-10-7 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-10-8 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-10-9 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-10-10 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-10-11 { grid-template-columns: repeat(8, 1fr); grid-template-rows: repeat(8, 1fr); }

        .layout-11-1 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-11-2 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-11-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-11-4 { grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); }
        .layout-11-5 { grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); }
        .layout-11-6 { grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); }

        .layout-12-1 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-12-2 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); }
        .layout-12-3 { grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); }
        .layout-12-4 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-12-5 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(4, 1fr); }

        .layout-13-1 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-13-2 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-13-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-13-4 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-13-5 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }

        .layout-14-1 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-14-2 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(7, 1fr); }
        .layout-14-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }

        .layout-15-1 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-2 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-3 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-4 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-5 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(5, 1fr); }
        .layout-15-6 { grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(3, 1fr); }
        .layout-15-7 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-8 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }
        .layout-15-9 { grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); }

        /* 布局项悬停效果 */
        .layout-item:hover .layout-preview .layout-cell {
            opacity: 0.8;
            transform: scale(0.98);
        }

        /* 中间预览区域 - 全宽布局 */
        .preview-panel {
            width: 100%;
            height: 100%;
            padding: 24px;
            display: flex;
            flex-direction: column;
            background: var(--bg-white);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
        }

        .header-actions {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .panel-toggle {
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-none);
            padding: 6px 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .panel-toggle:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .panel-toggle i {
            font-size: 12px;
        }

        .image-counter {
            background: var(--secondary);
            color: white;
            padding: 4px 10px;
            border-radius: var(--radius-none);
            font-size: 11px;
            font-weight: 500;
        }

        .preview-container {
            flex: 1;
            background: var(--bg-light);
            border: 1px dashed var(--border);
            border-radius: var(--radius-none);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            min-height: calc(100vh - 200px);
            max-height: calc(100vh - 200px);
            overflow: auto;
            transition: var(--transition);
        }

        .preview-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 100%;
            min-height: 100%;
        }

        .preview-canvas {
            position: relative;
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            overflow: visible;
            flex-shrink: 0;
        }

        /* 可调整大小的画布 */
        .resizable-canvas {
            user-select: none;
        }

        .resizable-canvas:hover .resize-handles {
            opacity: 1;
        }

        /* 拖拽手柄容器 */
        .resize-handles {
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
        }

        .resize-handles.active {
            opacity: 1;
        }

        /* 拖拽手柄基础样式 */
        .resize-handle {
            position: absolute;
            pointer-events: auto;
            background: var(--primary);
            border: 1px solid var(--bg-white);
            transition: all 0.2s ease;
        }

        .resize-handle:hover {
            background: var(--primary-dark);
            transform: scale(1.2);
        }

        /* 四角手柄 */
        .resize-handle.corner {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .resize-handle.corner.nw {
            top: 0;
            left: 0;
            cursor: nw-resize;
        }

        .resize-handle.corner.ne {
            top: 0;
            right: 0;
            cursor: ne-resize;
        }

        .resize-handle.corner.sw {
            bottom: 0;
            left: 0;
            cursor: sw-resize;
        }

        .resize-handle.corner.se {
            bottom: 0;
            right: 0;
            cursor: se-resize;
        }

        /* 边缘手柄 */
        .resize-handle.edge {
            background: var(--primary);
            border-radius: 2px;
        }

        .resize-handle.edge.n,
        .resize-handle.edge.s {
            width: 20px;
            height: 4px;
            left: 50%;
            transform: translateX(-50%);
        }

        .resize-handle.edge.n {
            top: 0;
            cursor: n-resize;
        }

        .resize-handle.edge.s {
            bottom: 0;
            cursor: s-resize;
        }

        .resize-handle.edge.w,
        .resize-handle.edge.e {
            width: 4px;
            height: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .resize-handle.edge.w {
            left: 0;
            cursor: w-resize;
        }

        .resize-handle.edge.e {
            right: 0;
            cursor: e-resize;
        }

        .preview-container.drag-over {
            border-color: var(--primary);
            background: rgba(230, 126, 34, 0.04);
        }

        /* 网格单元调整手柄 */
        .split-cell .cell-resize-handles {
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
            z-index: 10;
        }

        .split-cell:hover .cell-resize-handles,
        .split-cell.resizing .cell-resize-handles {
            opacity: 1;
        }

        .cell-resize-handle {
            position: absolute;
            background: var(--primary);
            pointer-events: auto;
            transition: all 0.2s ease;
            border: 1px solid var(--bg-white);
        }

        .cell-resize-handle:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        /* 右边缘调整手柄 */
        .cell-resize-handle.right {
            width: 4px;
            height: 60%;
            right: 0;
            top: 20%;
            cursor: e-resize;
            border-radius: 2px 0 0 2px;
        }

        /* 底部边缘调整手柄 */
        .cell-resize-handle.bottom {
            width: 60%;
            height: 4px;
            bottom: 0;
            left: 20%;
            cursor: s-resize;
            border-radius: 2px 2px 0 0;
        }

        /* 右下角调整手柄 */
        .cell-resize-handle.corner {
            width: 8px;
            height: 8px;
            bottom: 0;
            right: 0;
            cursor: se-resize;
            border-radius: 50% 0 0 0;
            background: var(--accent);
        }

        /* 网格分割线 */
        .grid-divider {
            position: absolute;
            background: var(--primary);
            opacity: 0;
            transition: opacity 0.2s ease;
            z-index: 15;
        }

        .grid-divider:hover,
        .grid-divider.active {
            opacity: 0.8;
        }

        .grid-divider.vertical {
            width: 4px;
            height: 100%;
            cursor: col-resize;
            top: 0;
        }

        .grid-divider.horizontal {
            width: 100%;
            height: 4px;
            cursor: row-resize;
            left: 0;
        }

        /* 调整时的视觉反馈 */
        .split-cell.resizing {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(230, 126, 34, 0.2);
        }

        .split-grid.adjusting {
            pointer-events: none;
        }

        .split-grid.adjusting .split-cell.resizing {
            pointer-events: auto;
        }

        /* 拖拽指示器 */
        .drag-indicator {
            position: absolute;
            z-index: 20;
            pointer-events: none;
            background: rgba(230, 126, 34, 0.1);
            border: 2px dashed rgba(230, 126, 34, 0.8);
            opacity: 0;
            transition: opacity 0.1s ease;
        }
        
        .drag-indicator.active {
            opacity: 1;
        }

        /* 布局样式定义 */
        .layout-2-1 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr;
        }

        .layout-2-2 {
            grid-template-columns: 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-1 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: 1fr;
        }

        .layout-3-2 {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-3-3 {
            grid-template-columns: 2fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-4 {
            grid-template-columns: 1fr 2fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-5 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 2fr 1fr;
        }

        .layout-3-6 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 2fr;
        }

        .layout-3-7 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-8 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-9 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-10 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-3-11 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 2fr 1fr;
        }

        .layout-3-12 {
            grid-template-columns: 2fr 1fr;
            grid-template-rows: 2fr 1fr;
        }

        .layout-4-1 {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
        }

        .layout-4-2 {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: 1fr;
        }

        .layout-4-3 {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(4, 1fr);
        }

        .layout-4-4 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-4-5 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-4-6 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-4-7 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-4-8 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-4-9 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-4-10 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-4-11 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .layout-4-12 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-1 {
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: 1fr;
        }

        .layout-5-2 {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(5, 1fr);
        }

        .layout-5-3 {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-5-4 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-5 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-6 {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-7 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-8 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-9 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-10 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-11 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-12 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-13 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-14 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-5-15 {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
        }

        .layout-6-1 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
        }

        .layout-6-2 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-3 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-4 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-5 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-6 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-7 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-8 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-9 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
        }

        .layout-6-10 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-11 {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .layout-6-12 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .upload-hint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-disabled);
            padding: 40px;
            border: 2px dashed var(--border);
            border-radius: var(--radius-sm);
            background: var(--bg-white);
            cursor: pointer;
            transition: var(--transition);
            min-width: 300px;
            z-index: 5;
        }

        .upload-hint:hover {
            border-color: var(--primary);
            background: var(--bg-light);
        }

        .upload-hint.dragover {
            border-color: var(--primary);
            background: var(--primary-light);
            color: white;
        }

        .upload-hint i {
            font-size: 48px;
            margin-bottom: 16px;
            display: block;
            color: var(--text-disabled);
        }

        .upload-hint:hover i {
            color: var(--primary);
        }

        .upload-text {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .upload-hint-text {
            font-size: 12px;
            color: var(--text-disabled);
        }

        /* 图片填充整个画布 */
        .canvas-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* 拆分覆盖层 */
        .split-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: grid;
            gap: 2px;
            pointer-events: none;
            z-index: 10;
        }

        .split-cell {
            border: 2px solid var(--primary);
            background: rgba(230, 126, 34, 0.15);
            display: flex;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: 600;
            font-size: 14px;
        }

        /* 右侧属性面板 - 浮动拖拽面板 */
        .properties-panel {
            width: 350px;
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-none);
            box-shadow: var(--shadow-none);
            padding: 20px 16px;
            overflow-y: auto;
            position: fixed;
            top: 150px;
            right: 20px;
            height: calc(100vh - 200px - 40px);
            min-height: 400px;
            z-index: 1000;
            transition: var(--transition);
            cursor: move;
        }

        .properties-panel.collapsed {
            transform: translateX(100%);
            opacity: 0;
            pointer-events: none;
        }

        .properties-panel.dragging {
            cursor: grabbing;
            user-select: none;
            box-shadow: var(--shadow-none);
            border: 2px solid var(--primary);
            transition: none;
            will-change: transform;
        }

        .property-section {
            background: var(--bg-white);
            border-radius: var(--radius-sm);
            padding: 14px;
            margin-bottom: 12px;
            border: 1px solid var(--border-light);
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: move;
            padding: 8px 0;
            border-radius: var(--radius-sm);
            transition: var(--transition);
        }

        .section-title:hover {
            background: var(--bg-light);
            color: var(--primary);
        }

        .section-title i {
            color: var(--primary);
            font-size: 14px;
        }

        .form-item {
            margin-bottom: 12px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-size: 12px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 6px 10px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 12px;
            transition: var(--transition);
            background: var(--bg-white);
        }

        .form-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 1px rgba(230, 126, 34, 0.1);
            outline: none;
        }

        .size-group {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .slider-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .slider-value {
            min-width: 50px;
            text-align: center;
            background: var(--bg-light);
            padding: 4px 6px;
            border-radius: var(--radius-sm);
            font-size: 10px;
            color: var(--text-secondary);
            border: 1px solid var(--border-light);
        }

        .btn-flat {
            border: 1px solid var(--border);
            background: var(--bg-white);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: var(--radius-none);
            font-size: 14px;
            font-weight: 400;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-flat:hover {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--bg-white);
        }

        .btn-large {
            padding: 12px 24px;
            font-size: 14px;
            border-radius: var(--radius-none);
            min-width: 100px;
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
            border-radius: var(--radius-none);
            min-width: 80px;
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .btn-primary {
            background: var(--primary);
            border: 1px solid var(--primary);
            color: white;
            border-radius: var(--radius-none);
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--accent);
            border: 1px solid var(--accent);
            color: white;
            border-radius: var(--radius-none);
        }

        .btn-secondary:hover {
            background: var(--success);
            border-color: var(--success);
        }

        /* 隐藏文件输入 */
        #fileInput {
            display: none;
        }

        /* 加载状态 */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* 结果列表样式 */
        .result-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .result-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 1px solid var(--border-light);
            border-radius: var(--radius-sm);
            margin-bottom: 8px;
            background: var(--bg-white);
        }

        .result-preview {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-sm);
            object-fit: cover;
            flex-shrink: 0;
        }

        .result-info {
            flex: 1;
        }

        .result-name {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .result-size {
            font-size: 11px;
            color: var(--text-disabled);
        }

        .download-btn {
            padding: 6px 12px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 12px;
            transition: var(--transition);
        }

        .download-btn:hover {
            background: var(--accent);
        }

        .download-all-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .download-all-btn:hover {
            background: var(--primary-dark);
        }

        .download-all-btn:disabled {
            background: var(--text-disabled);
            cursor: not-allowed;
        }

        /* 响应式设计 */
        @media (max-width: 1200px) {
            .layout-panel, .properties-panel {
                width: 300px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 16px;
            }

            .header-content {
                padding: 0 16px;
            }

            .layout-panel, .properties-panel {
                width: 280px;
                top: 120px;
            }
        }
    </style>
</head>

<body>
    <!-- 头部 -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-cut"></i>
                专业级图片拆分工具
            </div>
            <div class="header-actions">
                <div class="color-picker-group">
                    <div class="color-options">
                        <button class="color-option active" data-color="orange" style="background-color: #e67e22;" title="橙色主题"></button>
                        <button class="color-option" data-color="blue" style="background-color: #3498db;" title="蓝色主题"></button>
                        <button class="color-option" data-color="green" style="background-color: #27ae60;" title="绿色主题"></button>
                        <button class="color-option" data-color="purple" style="background-color: #9b59b6;" title="紫色主题"></button>
                        <button class="color-option" data-color="red" style="background-color: #e74c3c;" title="红色主题"></button>
                        <button class="color-option" data-color="yellow" style="background-color: #f1c40f;" title="黄色主题"></button>
                        <button class="color-option" data-color="contrast-dark" style="background-color: #2c3e50;" title="深色对比主题"></button>
                        <button class="color-option" data-color="contrast-light" style="background-color: #ecf0f1;" title="浅色对比主题"></button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 主容器 -->
    <main class="main-container">
        <div class="content-wrapper">
            <!-- 左侧布局面板 - 浮动拖拽面板 -->
            <aside class="layout-panel" id="layoutPanel">
                <div class="panel-header">
                    <i class="fas fa-th"></i>
                    <h3>选择拆分布局</h3>
                </div>

                <!-- 2张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-2">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 2图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-2">
                        <div class="layout-grid">
                            <div class="layout-item active" data-layout="2-1" data-count="2">
                                <div class="layout-preview layout-2-1">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="2-2" data-count="2">
                                <div class="layout-preview layout-2-2">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-3">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 3图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-3">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="3-1" data-count="3">
                                <div class="layout-preview layout-3-1">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-2" data-count="3">
                                <div class="layout-preview layout-3-2">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-3" data-count="3">
                                <div class="layout-preview layout-3-3">
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-4" data-count="3">
                                <div class="layout-preview layout-3-4">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-row: span 2; grid-column: 2;"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-5" data-count="3">
                                <div class="layout-preview layout-3-5">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-6" data-count="3">
                                <div class="layout-preview layout-3-6">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-7" data-count="3">
                                <div class="layout-preview layout-3-7">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-8" data-count="3">
                                <div class="layout-preview layout-3-8">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-9" data-count="3">
                                <div class="layout-preview layout-3-9">
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-10" data-count="3">
                                <div class="layout-preview layout-3-10">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-row: span 2; grid-column: 2;"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-11" data-count="3">
                                <div class="layout-preview layout-3-11">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="3-12" data-count="3">
                                <div class="layout-preview layout-3-12">
                                    <div class="layout-cell" style="grid-column: span 2; grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-4">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 4图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-4">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="4-1" data-count="4">
                                <div class="layout-preview layout-4-1">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-2" data-count="4">
                                <div class="layout-preview layout-4-2">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-3" data-count="4">
                                <div class="layout-preview layout-4-3">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-4" data-count="4">
                                <div class="layout-preview layout-4-4">
                                    <div class="layout-cell" style="grid-column: span 3;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-5" data-count="4">
                                <div class="layout-preview layout-4-5">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-column: span 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-6" data-count="4">
                                <div class="layout-preview layout-4-6">
                                    <div class="layout-cell" style="grid-row: span 3;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-7" data-count="4">
                                <div class="layout-preview layout-4-7">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-row: span 3; grid-column: 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-8" data-count="4">
                                <div class="layout-preview layout-4-8">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-9" data-count="4">
                                <div class="layout-preview layout-4-9">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-10" data-count="4">
                                <div class="layout-preview layout-4-10">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-11" data-count="4">
                                <div class="layout-preview layout-4-11">
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="4-12" data-count="4">
                                <div class="layout-preview layout-4-12">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-5">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 5图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-5">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="5-1" data-count="5">
                                <div class="layout-preview layout-5-1">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-2" data-count="5">
                                <div class="layout-preview layout-5-2">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-3" data-count="5">
                                <div class="layout-preview layout-5-3">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-4" data-count="5">
                                <div class="layout-preview layout-5-4">
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-5" data-count="5">
                                <div class="layout-preview layout-5-5">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell" style="grid-column: span 2;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-6" data-count="5">
                                <div class="layout-preview layout-5-6">
                                    <div class="layout-cell" style="grid-row: span 2;"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-7" data-count="5">
                                <div class="layout-preview layout-5-7">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-8" data-count="5">
                                <div class="layout-preview layout-5-8">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-9" data-count="5">
                                <div class="layout-preview layout-5-9">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-10" data-count="5">
                                <div class="layout-preview layout-5-10">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-11" data-count="5">
                                <div class="layout-preview layout-5-11">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-12" data-count="5">
                                <div class="layout-preview layout-5-12">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-13" data-count="5">
                                <div class="layout-preview layout-5-13">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-14" data-count="5">
                                <div class="layout-preview layout-5-14">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2 / 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="5-15" data-count="5">
                                <div class="layout-preview layout-5-15">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 6张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-6">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 6图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-6">
                        <div class="layout-grid">
                            <!-- 布局1：两行三列 (6个区域，3×2网格) -->
                            <div class="layout-item" data-layout="6-1" data-count="6">
                                <div class="layout-preview layout-6-1">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                </div>
                            </div>
                            <!-- 布局2：左竖右错 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-2" data-count="6">
                                <div class="layout-preview layout-6-2">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局3：左整列中上单下双右三行 (6个区域) -->
                            <div class="layout-item" data-layout="6-3" data-count="6">
                                <div class="layout-preview layout-6-3">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局4：两竖夹心 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-4" data-count="6">
                                <div class="layout-preview layout-6-4">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                </div>
                            </div>
                            <!-- 布局5：左上单下双中三行右整列 (6个区域) -->
                            <div class="layout-item" data-layout="6-5" data-count="6">
                                <div class="layout-preview layout-6-5">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                </div>
                            </div>
                            <!-- 布局6：左三行中上双下单右整列 (6个区域) -->
                            <div class="layout-item" data-layout="6-6" data-count="6">
                                <div class="layout-preview layout-6-6">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                </div>
                            </div>
                            <!-- 布局7：左竖中错 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-7" data-count="6">
                                <div class="layout-preview layout-6-7">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局8：三竖分段 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-8" data-count="6">
                                <div class="layout-preview layout-6-8">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2 / 4;"></div>
                                </div>
                            </div>
                            <!-- 布局9：两横三竖 (6个区域，3×2网格) -->
                            <div class="layout-item" data-layout="6-9" data-count="6">
                                <div class="layout-preview layout-6-9">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局10：两横三竖 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-10" data-count="6">
                                <div class="layout-preview layout-6-10">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局11：三行两列 (6个区域) -->
                            <div class="layout-item" data-layout="6-11" data-count="6">
                                <div class="layout-preview layout-6-11">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 布局12：混合布局 (6个区域，3×3网格) -->
                            <div class="layout-item" data-layout="6-12" data-count="6">
                                <div class="layout-preview layout-6-12">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 7图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-7">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 7图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-7">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="7-1" data-count="7">
                                <div class="layout-preview layout-7-1">
                                    <div class="layout-cell" style="grid-column: 1 / 10; grid-row: 1 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-2" data-count="7">
                                <div class="layout-preview layout-7-2">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-3" data-count="7">
                                <div class="layout-preview layout-7-3">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-4" data-count="7">
                                <div class="layout-preview layout-7-4" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-5" data-count="7">
                                <div class="layout-preview layout-7-5" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-6" data-count="7">
                                <div class="layout-preview layout-7-6" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-7" data-count="7">
                                <div class="layout-preview layout-7-7" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-8" data-count="7">
                                <div class="layout-preview layout-7-8" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-9" data-count="7">
                                <div class="layout-preview layout-7-9" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 5; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-10" data-count="7">
                                <div class="layout-preview layout-7-10" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-11" data-count="7">
                                <div class="layout-preview layout-7-11" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-12" data-count="7">
                                <div class="layout-preview layout-7-12" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-13" data-count="7">
                                <div class="layout-preview layout-7-13" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-14" data-count="7">
                                <div class="layout-preview layout-7-14" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-15" data-count="7">
                                <div class="layout-preview layout-7-15" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-16" data-count="7">
                                <div class="layout-preview layout-7-16" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 7 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-17" data-count="7">
                                <div class="layout-preview layout-7-17" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 1 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 7 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="7-18" data-count="7">
                                <div class="layout-preview layout-7-18" style="display: grid; gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 1 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 1 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 7 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

        <!-- 8图布局 -->
        <div class="layout-category">
            <div class="category-header expanded" data-target="layout-8">
                <div class="category-title">
                    <i class="fas fa-images"></i> 8图布局
                </div>
                <i class="fas fa-chevron-right category-arrow"></i>
            </div>
            <div class="layout-content" id="layout-8">
                <div class="layout-grid">
                    <div class="layout-item" data-layout="8-1" data-count="8">
                        <div class="layout-preview layout-8-1">
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-2" data-count="8">
                        <div class="layout-preview layout-8-2">
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-3" data-count="8">
                        <div class="layout-preview layout-8-3">
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                            <div class="layout-cell"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-4" data-count="8">
                        <div class="layout-preview layout-8-4" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1行：图1占3列，图2占1列 -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                            <!-- 第2行：图3占3列，图4占1列 -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                            <!-- 第3行：图5占3列，图6占1列 -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                            <!-- 第4行：图7占3列，图8占1列 -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-5" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 图1：第1行，占1行2列 -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1;"></div>
                            <!-- 图2：第1-2行，占1列2行 -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 3;"></div>
                            <!-- 图3：第1-2行，占1列2行 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1 / 3;"></div>
                            <!-- 图4：第2行，占1行2列 -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                            <!-- 图5：第3-4行，占1列2行 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3 / -1;"></div>
                            <!-- 图6：第3-4行，占1列2行 -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3 / -1;"></div>
                            <!-- 图7：第3行，占2列1行 -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                            <!-- 图8：第4行第3-4列，占2列1行 -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-6" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 图1：第1行第1列开始，占3行3列 -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 4;"></div>
                            <!-- 图2：第1行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                            <!-- 图3：第2行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                            <!-- 图4：第3行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                            <!-- 图5：第4行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                            <!-- 图6：第4行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                            <!-- 图7：第4行第2列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                            <!-- 图8：第4行第3列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-7" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 图1：第1行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                            <!-- 图2：第2行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                            <!-- 图3：第3行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                            <!-- 图4：第4行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                            <!-- 图5：第1行第2列开始，占3行3列 -->
                            <div class="layout-cell" style="grid-column: 2 / 5; grid-row: 1 / 4;"></div>
                            <!-- 图6：第4行第2列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                            <!-- 图7：第4行第3列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                            <!-- 图8：第4行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-8" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 图1：第1行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                            <!-- 图2：第1行第2列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                            <!-- 图3：第1行第3列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                            <!-- 图4：第1行第4列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                            <!-- 图5：第2行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                            <!-- 图6：第3行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                            <!-- 图7：第4行第1列，占1行1列 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                            <!-- 图8：第2行第2列开始，占3行3列 -->
                            <div class="layout-cell" style="grid-column: 2 / 5; grid-row: 2 / 5;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-9" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1行：图1(1列) + 图2(3列) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 2 / 5; grid-row: 1;"></div>
                            <!-- 第2行：图3(3列) + 图4(1列) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                            <!-- 第3行：图5(1列) + 图6(3列) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 2 / 5; grid-row: 3;"></div>
                            <!-- 第4行：图7(3列) + 图8(1列) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-10" data-count="8">
                        <div class="layout-preview layout-8-10">
                            <!-- 第1行：图1(4行6列) + 图2(4行6列) -->
                            <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 1 / 5;"></div>
                            <!-- 第5行：图3,4,5,6(各占3列4行) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                            <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                            <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 5 / 9;"></div>
                            <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                            <!-- 第9行：图7(4行6列) + 图8(4行6列) -->
                            <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 9 / 13;"></div>
                            <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 9 / 13;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-11" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                            <!-- 第1行：图1,2,3 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 1 / 3;"></div>
                            <!-- 第3行：图4,5 (各占3列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 3 / 5;"></div>
                            <!-- 第5行：图6,7,8 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 5 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 5 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 5 / 7;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-12" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                            <!-- 第1列：图1,2,3 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 5 / 7;"></div>
                            <!-- 第3列：图4,5 (各占2列3行) -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 4;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4 / 7;"></div>
                            <!-- 第5列：图6,7,8 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 5 / 7;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-13" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1行：图1(1×1) + 图2(1×2) + 图3(2×2) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                            <!-- 第2行第1列：图4(1×1) - 修正位置避免重叠 -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                            <!-- 第3行：图5(2×2) + 图6(1×2) + 图7(1×1) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                            <!-- 第4行第4列：图8(1×1) -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-14" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1列：图1(1×2) + 图2(1×2) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3 / 5;"></div>
                            <!-- 第2列：图3(1×2) + 图4(1×2) -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3 / 5;"></div>
                            <!-- 第3-4列：图5,6,7,8 (各占2×1) -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-15" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(14, 1fr); gap: 1px;">
                            <!-- 第1行：图1,2 (各占6×3) -->
                            <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 4;"></div>
                            <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 1 / 4;"></div>
                            <!-- 第4行：图3,4,5 (各占4×3) -->
                            <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 4 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 4 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 4 / 7;"></div>
                            <!-- 第7行：图6,7 (各占6×3) -->
                            <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 7 / 10;"></div>
                            <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 7 / 10;"></div>
                            <!-- 第10行：图8 (占12×5) -->
                            <div class="layout-cell" style="grid-column: 1 / 13; grid-row: 10 / 15;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-16" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                            <!-- 第1列：图1,2 (各占2×3) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 4;"></div>
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 4 / 7;"></div>
                            <!-- 第3列：图3,4,5 (各占2×2) -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 5 / 7;"></div>
                            <!-- 第5列：图6,7,8 (各占2×2) -->
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 5 / 7;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-17" data-count="8">
                        <div class="layout-preview" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                            <!-- 第1行：图1,2 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                            <!-- 第2行：图3,4 (各占2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                            <!-- 第3行：图5,6,7,8 (各占1列2行) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 5 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 5 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 5 / 7;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 5 / 7;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-18" data-count="8">
                        <div class="layout-preview layout-8-18">
                            <!-- 第1行：图1(2列1行) + 图2(1列2行) + 图3(1列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1 / 3;"></div>
                            <!-- 第2行：图4(2列1行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2;"></div>
                            <!-- 第3行：图5(1列2行) + 图6(1列2行) + 图7(2列1行) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3 / 5;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                            <!-- 第4行第3列：图8(2列1行) -->
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-19" data-count="8">
                        <div class="layout-preview layout-8-19" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); gap: 1px;">
                            <!-- 第1列：图1(3行1列) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 1 / 4;"></div>
                            <!-- 第2列：图2,3,4(各占1行1列) -->
                            <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                            <!-- 第3列：图5,6,7(各占1行1列) -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                            <!-- 第4列：图8(3行1列) -->
                            <div class="layout-cell" style="grid-column: 4; grid-row: 1 / 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-20" data-count="8">
                        <div class="layout-preview layout-8-20" style="display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1行：图1(3列1行) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                            <!-- 第2行：图2,3,4(各占1列1行) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                            <!-- 第3行：图5,6,7(各占1列1行) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                            <!-- 第4行：图8(3列1行) -->
                            <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-21" data-count="8">
                        <div class="layout-preview layout-8-21" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); gap: 1px;">
                            <!-- 第1行：图1(2列2行) + 图2(2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                            <!-- 第3行：图3,4,5,6(各占1列1行) -->
                            <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                            <!-- 第4行：图7(2列2行) + 图8(2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 4 / 6;"></div>
                            <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4 / 6;"></div>
                        </div>
                    </div>
                    <div class="layout-item" data-layout="8-22" data-count="8">
                        <div class="layout-preview layout-8-22" style="display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                            <!-- 第1列：图1(2列2行) + 图2(2列2行) -->
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                            <!-- 第3列：图3,4,5,6(各占1列1行) -->
                            <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                            <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                            <!-- 第4列：图7(2列2行) + 图8(2列2行) -->
                            <div class="layout-cell" style="grid-column: 4 / 6; grid-row: 1 / 3;"></div>
                            <div class="layout-cell" style="grid-column: 4 / 6; grid-row: 3 / 5;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

                <!-- 9张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-9">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 9图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-9">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="9-1" data-count="9">
                                <div class="layout-preview layout-9-1">
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                    <div class="layout-cell"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-2" data-count="9">
                                <div class="layout-preview layout-9-2" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1列：图1,2,3,4(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <!-- 第2-3列：图5(2列4行) -->
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1 / 5;"></div>
                                    <!-- 第4列：图6,7,8,9(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-3" data-count="9">
                                <div class="layout-preview layout-9-3" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：图1,2,3,4(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2-3行：图5(4列2行) -->
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 2 / 4;"></div>
                                    <!-- 第4行：图6,7,8,9(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-4" data-count="9">
                                <div class="layout-preview layout-9-4" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：图1(2列2行) + 图2(1列2行) + 图3(1列2行) -->
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1 / 3;"></div>
                                    <!-- 第3行：图4(2行1列) + 图5(1行1列) + 图6(1行1列) -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <!-- 第4行：图7(2列1行) + 图8(1列1行) + 图9(1列1行) -->
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-5" data-count="9">
                                <div class="layout-preview layout-9-5" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1-2列：图1(2列4行) -->
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 5;"></div>
                                    <!-- 第3列：图2,3,4,5(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <!-- 第4列：图6,7,8,9(各占1列1行) -->
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-6" data-count="9">
                                <div class="layout-preview layout-9-6" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-7" data-count="9">
                                <div class="layout-preview layout-9-7" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 5;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-8" data-count="9">
                                <div class="layout-preview layout-9-8" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4 / 7;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-9" data-count="9">
                                <div class="layout-preview layout-9-9" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 13; grid-row: 9 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-10" data-count="9">
                                <div class="layout-preview layout-9-10" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 9 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-11" data-count="9">
                                <div class="layout-preview layout-9-11" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 5 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 9 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-12" data-count="9">
                                <div class="layout-preview layout-9-12" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-13" data-count="9">
                                <div class="layout-preview layout-9-13" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 6; grid-row: 4 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 6;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-14" data-count="9">
                                <div class="layout-preview layout-9-14" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 6; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4 / 7;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="9-15" data-count="9">
                                <div class="layout-preview layout-9-15" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 4 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4 / 7;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 10张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-10">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 10图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-10">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="10-1" data-count="10">
                                <div class="layout-preview layout-10-1" style="display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(5, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 5;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-2" data-count="10">
                                <div class="layout-preview layout-10-2">
                                    <div class="layout-cell" style="grid-column: 1 / 13; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-3" data-count="10">
                                <div class="layout-preview layout-10-3">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 9 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-4" data-count="10">
                                <div class="layout-preview layout-10-4">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-5" data-count="10">
                                <div class="layout-preview layout-10-5">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 9; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 3 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 7; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 8; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 8;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-6" data-count="10">
                                <div class="layout-preview layout-10-6">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-7" data-count="10">
                                <div class="layout-preview layout-10-7">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 5 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 5 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 5 / 7;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-8" data-count="10">
                                <div class="layout-preview layout-10-8">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 4 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 4 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-9" data-count="10">
                                <div class="layout-preview layout-10-9">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-10" data-count="10">
                                <div class="layout-preview layout-10-10" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 9 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 9 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="10-11" data-count="10">
                                <div class="layout-preview layout-10-11" style="display: grid; grid-template-columns: repeat(8, 1fr); grid-template-rows: repeat(8, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 5 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 9; grid-row: 5 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 7; grid-row: 7 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 7; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 8; grid-row: 7;"></div>
                                    <div class="layout-cell" style="grid-column: 7; grid-row: 8;"></div>
                                    <div class="layout-cell" style="grid-column: 8; grid-row: 8;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 11张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-11">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 11图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-11">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="11-1" data-count="11">
                                <div class="layout-preview layout-11-1">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="11-2" data-count="11">
                                <div class="layout-preview layout-11-2" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 7; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 13; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 7 / 10;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 5; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 5 / 9; grid-row: 10 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 9 / 13; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="11-3" data-count="11">
                                <div class="layout-preview layout-11-3" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="11-4" data-count="11">
                                <div class="layout-preview layout-11-4" style="display: grid; grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 16; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 11 / 16;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="11-5" data-count="11">
                                <div class="layout-preview layout-11-5" style="display: grid; grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 16; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 11 / 16;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 11 / 16;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="11-6" data-count="11">
                                <div class="layout-preview layout-11-6" style="display: grid; grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); gap: 1px;">
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 1 / 6;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 13 / 16; grid-row: 6 / 11;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 16; grid-row: 11 / 16;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 12张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-12">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 12图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-12">
                        <div class="layout-grid">
                            <!-- 12-1布局：6行6列，左右对称布局 -->
                            <div class="layout-item" data-layout="12-1" data-count="12">
                                <div class="layout-preview layout-12-1" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <!-- 左侧：6个图形，各占1行3列 -->
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 6;"></div>
                                    <!-- 右侧：6个图形，各占1行3列 -->
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 6;"></div>
                                </div>
                            </div>
                            <!-- 12-2布局：6行6列，大图+边框布局 -->
                            <div class="layout-item" data-layout="12-2" data-count="12">
                                <div class="layout-preview layout-12-2" style="display: grid; grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(6, 1fr); gap: 1px;">
                                    <!-- 第1个图形：占5行5列 -->
                                    <div class="layout-cell" style="grid-column: 1 / 6; grid-row: 1 / 6;"></div>
                                    <!-- 第6列：5个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 5;"></div>
                                    <!-- 第6行：6个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 6; grid-row: 6;"></div>
                                </div>
                            </div>
                            <!-- 12-3布局：12行12列，复杂组合布局 -->
                            <div class="layout-item" data-layout="12-3" data-count="12">
                                <div class="layout-preview layout-12-3" style="display: grid; grid-template-columns: repeat(12, 1fr); grid-template-rows: repeat(12, 1fr); gap: 1px;">
                                    <!-- 第1列：3个图形，各占4行3列 -->
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 1 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 5 / 9;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 4; grid-row: 9 / 13;"></div>
                                    <!-- 第1行第4列：3个图形，各占3行3列 -->
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 1 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 1 / 4;"></div>
                                    <!-- 第4行第4列：3个图形，各占3行3列 -->
                                    <div class="layout-cell" style="grid-column: 4 / 7; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 7 / 10; grid-row: 4 / 7;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 4 / 7;"></div>
                                    <!-- 第7行第4列：2个图形，第1个占6行6列，第2个占3行3列 -->
                                    <div class="layout-cell" style="grid-column: 4 / 10; grid-row: 7 / 13;"></div>
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 7 / 10;"></div>
                                    <!-- 第10行第10列：1个图形，占3行3列 -->
                                    <div class="layout-cell" style="grid-column: 10 / 13; grid-row: 10 / 13;"></div>
                                </div>
                            </div>
                            <!-- 12-4布局：3行4列，简单网格 -->
                            <div class="layout-item" data-layout="12-4" data-count="12">
                                <div class="layout-preview layout-12-4" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                </div>
                            </div>
                            <!-- 12-5布局：4行3列，简单网格 -->
                            <div class="layout-item" data-layout="12-5" data-count="12">
                                <div class="layout-preview layout-12-5" style="display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：3个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <!-- 第2行：3个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <!-- 第3行：3个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <!-- 第4行：3个图形 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 13张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-13">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 13图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-13">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="13-1" data-count="13">
                                <div class="layout-preview layout-13-1" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 图1-4：第1列，4个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <!-- 图5：第2行第2列，1个图形，占2行2列 -->
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2 / 4;"></div>
                                    <!-- 图6-7：第1行第2列，2个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <!-- 图8-9：第4行第2列，2个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <!-- 图10-13：第4列，4个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="13-2" data-count="13">
                                <div class="layout-preview layout-13-2">
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="13-3" data-count="13">
                                <div class="layout-preview layout-13-3">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="13-4" data-count="13">
                                <div class="layout-preview layout-13-4">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1 / 3; grid-row: 3 / 5;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="13-5" data-count="13">
                                <div class="layout-preview layout-13-5">
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 1 / 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 14张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-14">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 14图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-14">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="14-1" data-count="14">
                                <div class="layout-preview layout-14-1" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="14-2" data-count="14">
                                <div class="layout-preview layout-14-2" style="display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(7, 1fr); gap: 1px;">
                                    <!-- 第1列：7个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 7;"></div>
                                    <!-- 第2列：7个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 5;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 6;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 7;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="14-3" data-count="14">
                                <div class="layout-preview layout-14-3">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2 / 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 15张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-15">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 15图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-15">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="15-1" data-count="15">
                                <div class="layout-preview layout-15-1" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-2" data-count="15">
                                <div class="layout-preview layout-15-2" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-3" data-count="15">
                                <div class="layout-preview layout-15-3" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-4" data-count="15">
                                <div class="layout-preview layout-15-4" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：3个图形，第1个占1列，第2个占2列，第3个占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2 / 4; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-5" data-count="15">
                                <div class="layout-preview layout-15-5" style="display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(5, 1fr); gap: 1px;">
                                    <!-- 第1列：5个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 5;"></div>
                                    <!-- 第2列：5个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 5;"></div>
                                    <!-- 第3列：5个图形，各占1行 -->
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 5;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-6" data-count="15">
                                <div class="layout-preview layout-15-6" style="display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(3, 1fr); gap: 1px;">
                                    <!-- 第1行：5个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 1;"></div>
                                    <!-- 第2行：5个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 2;"></div>
                                    <!-- 第3行：5个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 5; grid-row: 3;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-7" data-count="15">
                                <div class="layout-preview layout-15-7" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：3个图形，第1个占1列，第2个占1列，第3个占2列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-8" data-count="15">
                                <div class="layout-preview layout-15-8" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：3个图形，第1个占1列，第2个占1列，第3个占2列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 3;"></div>
                                    <!-- 第4行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                            <div class="layout-item" data-layout="15-9" data-count="15">
                                <div class="layout-preview layout-15-9" style="display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(4, 1fr); gap: 1px;">
                                    <!-- 第1行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <!-- 第2行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <!-- 第3行：4个图形，各占1列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <!-- 第4行：3个图形，第1个占1列，第2个占1列，第3个占2列 -->
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3 / 5; grid-row: 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 16张图布局 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="layout-16">
                        <div class="category-title">
                            <i class="fas fa-images"></i> 16图布局
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="layout-16">
                        <div class="layout-grid">
                            <div class="layout-item" data-layout="16-1" data-count="16">
                                <div class="layout-preview layout-16-1">
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 1;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 2;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 3;"></div>
                                    <div class="layout-cell" style="grid-column: 1; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 2; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 3; grid-row: 4;"></div>
                                    <div class="layout-cell" style="grid-column: 4; grid-row: 4;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </aside>

            <!-- 中间预览区域 -->
            <section class="preview-panel">
                <div class="preview-header">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <button class="panel-toggle" id="leftPanelToggle" title="切换左侧面板">
                            <i class="fas fa-bars"></i> 布局
                        </button>
                        <button class="panel-toggle" id="rightPanelToggle" title="切换右侧面板">
                            <i class="fas fa-cogs"></i> 设置
                        </button>
                    </div>
                    <!-- 居中的操作按钮 -->
                    <div class="header-actions">
                        <button class="btn-accent btn-small" id="uploadBtn">
                            <i class="fas fa-upload"></i> 选择图片
                        </button>
                        <button class="btn-flat btn-small" id="resetBtn">
                            <i class="fas fa-redo"></i> 重置
                        </button>
                        <button class="btn-primary btn-small" id="splitBtn" style="display: none;">
                            <i class="fas fa-cut"></i> 开始拆分
                        </button>
                        <input type="file" id="imageFileInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-counter" id="imageCounter">画布: 800×600</div>
                </div>
                <div class="preview-container" id="previewContainer">
                    <div class="preview-wrapper">
                        <!-- 可调整大小的画布 -->
                        <div class="preview-canvas resizable-canvas" id="previewCanvas" style="width: 800px; height: 600px;">
                            <!-- 网格预览系统 -->
                            <div class="preview-grid layout-2-1" id="previewGrid">
                                <div class="grid-cell" data-index="0">
                                    <div class="cell-index">1</div>
                                </div>
                                <div class="grid-cell" data-index="1">
                                    <div class="cell-index">2</div>
                                </div>
                            </div>
                            <!-- 调整手柄 -->
                            <div class="resize-handles" id="resizeHandles">
                                <div class="resize-handle corner nw"></div>
                                <div class="resize-handle corner ne"></div>
                                <div class="resize-handle corner sw"></div>
                                <div class="resize-handle corner se"></div>
                                <div class="resize-handle edge n"></div>
                                <div class="resize-handle edge s"></div>
                                <div class="resize-handle edge w"></div>
                                <div class="resize-handle edge e"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 右侧属性面板 - 浮动拖拽面板 -->
            <aside class="properties-panel" id="propertiesPanel">
                <div class="panel-header">
                    <h3>工具设置</h3>
                </div>

                <!-- 画布尺寸设置 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="canvas-settings">
                        <div class="category-title">
                            <i class="fas fa-expand-arrows-alt"></i> 画布尺寸
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="canvas-settings">
                    <div class="form-item">
                        <div style="display: flex; gap: 12px; align-items: end;">
                            <div style="flex: 1;">
                                <label class="form-label">宽度 (px)</label>
                                <div class="size-group">
                                    <input type="number" class="form-input" id="canvasWidth" value="800" min="100" max="2000">
                                </div>
                            </div>
                            <div style="flex: 1;">
                                <label class="form-label">高度 (px)</label>
                                <div class="size-group">
                                    <input type="number" class="form-input" id="canvasHeight" value="600" min="100" max="2000">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-item">
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-flat" id="applyCanvasSize" style="flex: 1;">
                                <i class="fas fa-check"></i> 应用尺寸
                            </button>
                            <button class="btn-flat" id="fitToImageSize" style="flex: 1;">
                                <i class="fas fa-image"></i> 图片尺寸
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 拆分设置 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="split-settings">
                        <div class="category-title">
                            <i class="fas fa-cut"></i> 拆分设置
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="split-settings">
                    <div class="form-item">
                        <label class="form-label">输出格式</label>
                        <select class="form-input" id="outputFormat">
                            <option value="png">PNG (推荐)</option>
                            <option value="jpg">JPG</option>
                            <option value="webp">WebP</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <label class="form-label">图片质量 (JPG)</label>
                        <div class="slider-group">
                            <input type="range" class="form-input" id="quality" min="0.1" max="1" step="0.1" value="0.9" style="flex: 1;">
                            <span class="slider-value" id="qualityValue">90%</span>
                        </div>
                    </div>
                    <div class="form-item">
                        <label class="form-label">文件名前缀</label>
                        <input type="text" class="form-input" id="filePrefix" value="split_image" placeholder="split_image">
                    </div>
                </div>

                <!-- 图片信息 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="image-info-section">
                        <div class="category-title">
                            <i class="fas fa-info-circle"></i> 图片信息
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="image-info-section">
                    <div id="imageInfo" style="font-size: 12px; color: var(--text-secondary);">
                        请先上传图片
                    </div>
                </div>

                <!-- 拆分结果 -->
                <div class="layout-category">
                    <div class="category-header expanded" data-target="split-results">
                        <div class="category-title">
                            <i class="fas fa-download"></i> 拆分结果
                        </div>
                        <i class="fas fa-chevron-right category-arrow"></i>
                    </div>
                    <div class="layout-content" id="split-results">
                    <div class="result-list" id="resultList">
                        <div style="text-align: center; color: var(--text-disabled); padding: 20px;">
                            暂无拆分结果
                        </div>
                    </div>
                    <button class="download-all-btn" id="downloadAllBtn" disabled>
                        <i class="fas fa-archive"></i>
                        批量下载 (ZIP)
                    </button>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- 引用脚本 -->
    <script src="../assets/js/layui.min.js"></script>
    <script src="../assets/js/vendor/jszip.min.js"></script>
    <script src="../assets/js/vendor/filesaver.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 全局变量
            var currentLayout = '2-1';
            var currentGrid = '1fr 1fr';
            var uploadedImage = null;
            var splitResults = [];
            var canvasWidth = 800;
            var canvasHeight = 600;

            // DOM 元素
            var layoutPanel = document.getElementById('layoutPanel');
            var propertiesPanel = document.getElementById('propertiesPanel');
            var leftPanelToggle = document.getElementById('leftPanelToggle');
            var rightPanelToggle = document.getElementById('rightPanelToggle');
            var previewCanvas = document.getElementById('previewCanvas');
            var resetBtn = document.getElementById('resetBtn');
            var splitBtn = document.getElementById('splitBtn');
            var imageCounter = document.getElementById('imageCounter');
            var canvasWidthInput = document.getElementById('canvasWidth');
            var canvasHeightInput = document.getElementById('canvasHeight');
            var applyCanvasSizeBtn = document.getElementById('applyCanvasSize');
            var fitToImageSizeBtn = document.getElementById('fitToImageSize');
            var outputFormat = document.getElementById('outputFormat');
            var quality = document.getElementById('quality');
            var qualityValue = document.getElementById('qualityValue');
            var filePrefix = document.getElementById('filePrefix');
            var imageInfo = document.getElementById('imageInfo');
            var resultList = document.getElementById('resultList');
            var downloadAllBtn = document.getElementById('downloadAllBtn');
            var resizeHandles = document.getElementById('resizeHandles');

            // 初始化
            updateImageCounter();

            // 面板切换
            leftPanelToggle.addEventListener('click', function() {
                layoutPanel.classList.toggle('collapsed');
            });

            rightPanelToggle.addEventListener('click', function() {
                propertiesPanel.classList.toggle('collapsed');
            });

            // 布局分类展开折叠
            var categoryHeaders = document.querySelectorAll('.category-header');
            categoryHeaders.forEach(function(header) {
                header.addEventListener('click', function() {
                    var target = this.getAttribute('data-target');
                    var content = document.getElementById(target);
                    var arrow = this.querySelector('.category-arrow');
                    
                    this.classList.toggle('expanded');
                    if (content) {
                        content.style.display = this.classList.contains('expanded') ? 'block' : 'none';
                    }
                    arrow.style.transform = this.classList.contains('expanded') ? 'rotate(90deg)' : 'rotate(0deg)';
                });
            });

            // 布局选择
            var layoutItems = document.querySelectorAll('.layout-item');
            layoutItems.forEach(function(item) {
                item.addEventListener('click', function() {
                    layoutItems.forEach(function(i) { i.classList.remove('active'); });
                    this.classList.add('active');
                    currentLayout = this.getAttribute('data-layout');
                    var layoutCount = this.getAttribute('data-count');
                    // 根据布局获取对应的网格模板
                    currentGrid = getLayoutGrid(currentLayout);
                    updatePreviewGrid(); // 更新网格预览
                    addGridDividers();
                    setupGridDividerDragging(); // 重新设置拖拽功能
                    // 在画布上显示布局信息
                    showLayoutInfo(currentLayout, layoutCount);
                });
            });

            // 主题颜色切换
            var colorOptions = document.querySelectorAll('.color-option');
            colorOptions.forEach(function(option) {
                option.addEventListener('click', function() {
                    colorOptions.forEach(function(o) { o.classList.remove('active'); });
                    this.classList.add('active');
                    var color = this.getAttribute('data-color');
                    changeTheme(color);
                });
            });

            // 画布大小调整
            canvasWidthInput.addEventListener('input', function() {
                canvasWidth = parseInt(this.value) || 800;
            });

            canvasHeightInput.addEventListener('input', function() {
                canvasHeight = parseInt(this.value) || 600;
            });

            applyCanvasSizeBtn.addEventListener('click', function() {
                previewCanvas.style.width = canvasWidth + 'px';
                previewCanvas.style.height = canvasHeight + 'px';
                updateImageCounter();
                updatePreviewGrid(); // 更新网格预览
                addGridDividers(); // 重新添加拖拽手柄
                setupGridDividerDragging(); // 重新设置拖拽功能
                syncLayoutPreviewAspectRatio(); // 同步布局预览纵横比
            });
            fitToImageSizeBtn.addEventListener('click', function() {
                if (uploadedImage) {
                    // 设置画布尺寸为图片实际尺寸
                    canvasWidth = uploadedImage.width;
                    canvasHeight = uploadedImage.height;
                    
                    // 更新输入框
                    canvasWidthInput.value = canvasWidth;
                    canvasHeightInput.value = canvasHeight;
                    
                    // 应用到画布
                    previewCanvas.style.width = canvasWidth + 'px';
                    previewCanvas.style.height = canvasHeight + 'px';
                    updateImageCounter();
                    updatePreviewGrid(); // 更新网格预览
                    addGridDividers(); // 重新添加拖拽手柄
                    setupGridDividerDragging(); // 重新设置拖拽功能
                    syncLayoutPreviewAspectRatio(); // 同步布局预览纵横比
                } else {
                    alert('请先上传图片');
                }
            });

            // 工具栏上传按钮事件
            var uploadBtn = document.getElementById('uploadBtn');
            var imageFileInput = document.getElementById('imageFileInput');
            
            uploadBtn.addEventListener('click', function() {
                imageFileInput.click();
            });

            previewCanvas.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });

            previewCanvas.addEventListener('dragleave', function(e) {
                e.preventDefault();
                if (!this.contains(e.relatedTarget)) {
                    this.classList.remove('drag-over');
                }
            });

            previewCanvas.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                var files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileUpload(files[0]);
                }
            });

            imageFileInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    handleFileUpload(e.target.files[0]);
                }
            });

            // 质量滑块
            quality.addEventListener('input', function() {
                var value = Math.round(this.value * 100);
                qualityValue.textContent = value + '%';
            });

            // 重置按钮
            resetBtn.addEventListener('click', function() {
                resetEditor();
            });

            // 拆分按钮
            splitBtn.addEventListener('click', function() {
                if (uploadedImage) {
                    splitImage();
                }
            });

            // 批量下载
            downloadAllBtn.addEventListener('click', function() {
                downloadAllImages();
            });

            // 处理文件上传
            function handleFileUpload(file) {
                if (!file.type.startsWith('image/')) {
                    layui.layer.msg('请选择图片文件', { icon: 2 });
                    return;
                }

                if (file.size > 10 * 1024 * 1024) {
                    layui.layer.msg('图片大小不能超过 10MB', { icon: 2 });
                    return;
                }

                var reader = new FileReader();
                reader.onload = function(e) {
                    var img = new Image();
                    img.onload = function() {
                        uploadedImage = {
                            element: img,
                            width: img.naturalWidth,
                            height: img.naturalHeight,
                            src: e.target.result,
                            file: file
                        };
                        displayImage();
                        updateImageInfo();
                        splitBtn.style.display = 'flex';
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }

            // 显示图片
            function displayImage() {
                var canvas = document.getElementById('previewCanvas');
                if (!canvas) return;
                
                // 清除现有的图片
                var existingImg = canvas.querySelector('img.canvas-image');
                if (existingImg) {
                    existingImg.remove();
                }
                
                // 创建新的图片元素，完整显示在整个画布区域
                var img = document.createElement('img');
                img.src = uploadedImage.src;
                img.className = 'canvas-image';
                img.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                    z-index: 1;
                    pointer-events: none;
                `;
                
                // 将图片添加到画布中，在网格下方
                canvas.insertBefore(img, canvas.firstChild);
                
                // 添加网格拖拽手柄
                addGridDividers();
                setupGridDividerDragging(); // 启用网格拖拽功能
            }

            // 获取布局对应的网格模板
            function getLayoutGrid(layoutId) {
                var gridLayouts = {
                    '2-1': { columns: 'repeat(2, 1fr)', rows: '1fr' },
                    '2-2': { columns: '1fr', rows: 'repeat(2, 1fr)' },
                    
                    '3-1': { columns: 'repeat(3, 1fr)', rows: '1fr' },
                    '3-2': { columns: '1fr', rows: 'repeat(3, 1fr)' },
                    '3-3': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-4': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-5': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-6': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-7': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-8': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-9': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-10': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-11': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '3-12': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    
                    '4-1': { columns: 'repeat(2, 1fr)', rows: 'repeat(2, 1fr)' },
                    '4-2': { columns: 'repeat(4, 1fr)', rows: '1fr' },
                    '4-3': { columns: '1fr', rows: 'repeat(4, 1fr)' },
                    '4-4': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '4-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '4-6': { columns: 'repeat(2, 1fr)', rows: 'repeat(3, 1fr)' },
                    '4-7': { columns: 'repeat(2, 1fr)', rows: 'repeat(3, 1fr)' },
                    '4-8': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '4-9': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '4-10': { columns: 'repeat(2, 1fr)', rows: 'repeat(3, 1fr)' },
                    '4-11': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '4-12': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    
                    '5-1': { columns: 'repeat(5, 1fr)', rows: '1fr' },
                    '5-2': { columns: '1fr', rows: 'repeat(5, 1fr)' },
                    '5-3': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '5-4': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '5-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '5-6': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '5-7': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-8': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-9': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-10': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-11': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-12': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-13': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-14': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '5-15': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    
                    '6-1': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-2': { columns: 'repeat(2, 1fr)', rows: 'repeat(3, 1fr)' },
                    '6-3': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '6-4': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-6': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-7': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-8': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-9': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-10': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    '6-11': { columns: 'repeat(2, 1fr)', rows: 'repeat(3, 1fr)' },
                    '6-12': { columns: 'repeat(3, 1fr)', rows: 'repeat(2, 1fr)' },
                    
                    '7-1': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '7-2': { columns: 'repeat(4, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-4': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-6': { columns: 'repeat(6, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-7': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-8': { columns: 'repeat(3, 1fr)', rows: 'repeat(4, 1fr)' },
                    '7-9': { columns: 'repeat(4, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-10': { columns: 'repeat(5, 1fr)', rows: 'repeat(4, 1fr)' },
                    '7-11': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '7-12': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '7-13': { columns: 'repeat(6, 1fr)', rows: 'repeat(4, 1fr)' },
                    '7-14': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-15': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '7-16': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '7-17': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '7-18': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    
                    '8-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(2, 1fr)' },
                    '8-2': { columns: 'repeat(2, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-3': { columns: 'repeat(8, 1fr)', rows: '1fr' },
                    '8-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-5': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-6': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-7': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-8': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-9': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-10': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '8-11': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '8-12': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '8-13': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-14': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-15': { columns: 'repeat(12, 1fr)', rows: 'repeat(14, 1fr)' },
                    '8-16': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '8-17': { columns: 'repeat(4, 1fr)', rows: 'repeat(6, 1fr)' },
                    '8-18': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-19': { columns: 'repeat(4, 1fr)', rows: 'repeat(3, 1fr)' },
                    '8-20': { columns: 'repeat(3, 1fr)', rows: 'repeat(4, 1fr)' },
                    '8-21': { columns: 'repeat(4, 1fr)', rows: 'repeat(5, 1fr)' },
                    '8-22': { columns: 'repeat(5, 1fr)', rows: 'repeat(4, 1fr)' },
                    
                    '9-1': { columns: 'repeat(3, 1fr)', rows: 'repeat(3, 1fr)' },
                    '9-2': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-5': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-6': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-7': { columns: 'repeat(4, 1fr)', rows: 'repeat(5, 1fr)' },
                    '9-8': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '9-9': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '9-10': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '9-11': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '9-12': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '9-13': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '9-14': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '9-15': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    
                    '10-1': { columns: 'repeat(5, 1fr)', rows: 'repeat(5, 1fr)' },
                    '10-2': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '10-3': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '10-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '10-5': { columns: 'repeat(8, 1fr)', rows: 'repeat(8, 1fr)' },
                    '10-6': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '10-7': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '10-8': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '10-9': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '10-10': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '10-11': { columns: 'repeat(8, 1fr)', rows: 'repeat(8, 1fr)' },
                    
                    '11-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '11-2': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '11-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '11-4': { columns: 'repeat(15, 1fr)', rows: 'repeat(15, 1fr)' },
                    '11-5': { columns: 'repeat(15, 1fr)', rows: 'repeat(15, 1fr)' },
                    '11-6': { columns: 'repeat(15, 1fr)', rows: 'repeat(15, 1fr)' },
                    
                    '12-1': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '12-2': { columns: 'repeat(6, 1fr)', rows: 'repeat(6, 1fr)' },
                    '12-3': { columns: 'repeat(12, 1fr)', rows: 'repeat(12, 1fr)' },
                    '12-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(3, 1fr)' },
                    '12-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(4, 1fr)' },
                    
                    '13-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '13-2': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '13-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '13-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '13-5': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    
                    '14-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '14-2': { columns: 'repeat(2, 1fr)', rows: 'repeat(7, 1fr)' },
                    '14-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    
                    '15-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-2': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-3': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-4': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-5': { columns: 'repeat(3, 1fr)', rows: 'repeat(5, 1fr)' },
                    '15-6': { columns: 'repeat(5, 1fr)', rows: 'repeat(3, 1fr)' },
                    '15-7': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-8': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    '15-9': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' },
                    
                    '16-1': { columns: 'repeat(4, 1fr)', rows: 'repeat(4, 1fr)' }
                };
                
                return gridLayouts[layoutId] || { columns: 'repeat(2, 1fr)', rows: '1fr' };
            }

            // 更新拆分覆盖层
            function updateSplitOverlay() {
                var existingOverlay = document.getElementById('splitOverlay');
                if (existingOverlay) {
                    existingOverlay.remove();
                }

                // 始终显示布局网格，即使没有图片
                // if (!uploadedImage) return;

                var overlay = document.createElement('div');
                overlay.className = 'split-overlay';
                overlay.id = 'splitOverlay';

                var grid = getLayoutGrid(currentLayout);
                overlay.style.gridTemplateColumns = grid.columns;
                overlay.style.gridTemplateRows = grid.rows;

                // 计算拆分数量
                var colCount = (grid.columns.match(/1fr/g) || []).length;
                var rowCount = (grid.rows.match(/1fr/g) || []).length;
                var totalCells = colCount * rowCount;

                // 添加拆分格子
                for (var i = 0; i < totalCells; i++) {
                    var cell = document.createElement('div');
                    cell.className = 'split-cell';
                    cell.textContent = (i + 1);
                    overlay.appendChild(cell);
                }

                previewCanvas.appendChild(overlay);
            }

            // 在画布上显示布局信息
            function showLayoutInfo(layoutType, count) {
                // 移除现有的布局信息显示
                var existingInfo = document.getElementById('layoutInfo');
                if (existingInfo) {
                    existingInfo.remove();
                }

                // 创建布局信息显示元素
                var infoElement = document.createElement('div');
                infoElement.id = 'layoutInfo';
                infoElement.className = 'layout-info-display';
                
                // 设置布局信息内容
                var layoutName = '布局 ' + layoutType;
                var imageCount = count + ' 张图片';
                
                infoElement.innerHTML = '<div class="layout-info-content">' +
                    '<div class="layout-name">' + layoutName + '</div>' +
                    '<div class="layout-count">' + imageCount + '</div>' +
                    '</div>';
                
                // 添加样式
                infoElement.style.cssText = 
                    'position: absolute; ' +
                    'top: 20px; ' +
                    'right: 20px; ' +
                    'background: rgba(0, 0, 0, 0.8); ' +
                    'color: white; ' +
                    'padding: 12px 16px; ' +
                    'border-radius: 8px; ' +
                    'font-size: 14px; ' +
                    'z-index: 10; ' +
                    'box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); ' +
                    'backdrop-filter: blur(10px); ' +
                    'border: 1px solid rgba(255, 255, 255, 0.1); ' +
                    'opacity: 0; ' +
                    'transform: translateY(-10px); ' +
                    'transition: all 0.3s ease;';
                
                // 添加到画布
                previewCanvas.appendChild(infoElement);
                
                // 触发显示动画
                setTimeout(function() {
                    infoElement.style.opacity = '1';
                    infoElement.style.transform = 'translateY(0)';
                }, 50);
                
                // 3秒后自动消失
                setTimeout(function() {
                    if (infoElement && infoElement.parentNode) {
                        infoElement.style.opacity = '0';
                        infoElement.style.transform = 'translateY(-10px)';
                        setTimeout(function() {
                            if (infoElement && infoElement.parentNode) {
                                infoElement.remove();
                            }
                        }, 300);
                    }
                }, 3000);
            }

            // 添加网格拖拽分割线
            function addGridDividers() {
                var grid = document.getElementById('previewGrid');
                if (!grid) return;
                
                // 移除现有的拖拽线
                var existingDividers = grid.querySelectorAll('.grid-divider-line');
                existingDividers.forEach(function(divider) {
                    divider.remove();
                    
                });

                var gridInfo = getLayoutGrid(currentLayout);
                var colCount = (gridInfo.columns.match(/1fr/g) || []).length;
                var rowCount = (gridInfo.rows.match(/1fr/g) || []).length;

                // 添加垂直拖拽线（调整列宽）
                for (var i = 1; i < colCount; i++) {
                    var divider = document.createElement('div');
                    divider.className = 'grid-divider-line vertical';
                    divider.style.left = (i * 100 / colCount) + '%';
                    divider.setAttribute('data-column-index', i);
                    grid.appendChild(divider);
                }

                // 添加水平拖拽线（调整行高）
                for (var j = 1; j < rowCount; j++) {
                    var divider = document.createElement('div');
                    divider.className = 'grid-divider-line horizontal';
                    divider.style.top = (j * 100 / rowCount) + '%';
                    divider.setAttribute('data-row-index', j);
                    grid.appendChild(divider);
                }

                console.log('已添加拖拽线: ' + currentLayout + ', 垂直: ' + (colCount - 1) + ', 水平: ' + (rowCount - 1));

                // 启用拖拽功能
                setupGridDividerDragging();
            }

            // 同步布局预览纵横比与画布一致
            function syncLayoutPreviewAspectRatio() {
                var canvas = document.getElementById('previewCanvas');
                if (!canvas) return;
                
                var canvasWidth = parseInt(canvas.style.width) || 800;
                var canvasHeight = parseInt(canvas.style.height) || 600;
                var aspectRatio = canvasWidth / canvasHeight;
                
                // 基础预览尺寸
                var baseSize = 80;
                var previewWidth, previewHeight;
                
                // 根据纵横比调整预览尺寸
                if (aspectRatio >= 1) {
                    // 宽度大于等于高度
                    previewWidth = baseSize;
                    previewHeight = baseSize / aspectRatio;
                } else {
                    // 高度大于宽度
                    previewHeight = baseSize;
                    previewWidth = baseSize * aspectRatio;
                }
                
                // 确保最小尺寸
                previewWidth = Math.max(previewWidth, 40);
                previewHeight = Math.max(previewHeight, 40);
                
                // 更新所有布局预览的CSS
                var layoutPreviews = document.querySelectorAll('.layout-preview');
                previewHeight = Math.max(previewWidth,previewHeight);
                layoutPreviews.forEach(function(preview) {
                    preview.style.width = Math.round(previewWidth) + 'px';
                    preview.style.height = Math.round(previewHeight) + 'px';
                });
                
                console.log('布局预览尺寸已同步: ' + Math.round(previewWidth) + 'x' + Math.round(previewHeight) + 
                           ' (画布纵横比: ' + aspectRatio.toFixed(2) + ')');
            }

            // 设置网格拖拽功能
            function setupGridDividerDragging() {
                var isDragging = false;
                var dragDivider = null;
                var startPos = { x: 0, y: 0 };
                var originalColumnSizes = [];
                var originalRowSizes = [];

                var grid = document.getElementById('previewGrid');
                if (!grid) return;
                
                grid.addEventListener('mousedown', function(e) {
                    if (!e.target.classList.contains('grid-divider-line')) return;
                    
                    isDragging = true;
                    dragDivider = e.target;
                    startPos.x = e.clientX;
                    startPos.y = e.clientY;
                    
                    // 保存初始Grid模板
                    var computedStyle = window.getComputedStyle(grid);
                    startGridTemplate.columns = computedStyle.gridTemplateColumns;
                    startGridTemplate.rows = computedStyle.gridTemplateRows;
                    
                    // 添加拖拽状态样式
                    dragDivider.classList.add('dragging');
                    grid.classList.add('dragging-divider');
                    
                    // 改变鼠标指针
                    document.body.style.cursor = dragDivider.classList.contains('vertical') ? 'col-resize' : 'row-resize';
                    
                    // 禁用文本选择
                    document.body.style.userSelect = 'none';
                    
                    e.preventDefault();
                    e.stopPropagation();
                });

                document.addEventListener('mousemove', function(e) {
                    if (!isDragging || !dragDivider) return;
                    
                    var deltaX = e.clientX - startPos.x;
                    var deltaY = e.clientY - startPos.y;
                    
                    if (dragDivider.classList.contains('vertical')) {
                        // 调整列宽
                        var gridRect = grid.getBoundingClientRect();
                        var newPosition = (e.clientX - gridRect.left) / gridRect.width * 100;
                        
                        // 限制在10%-90%之间
                        newPosition = Math.max(10, Math.min(90, newPosition));
                        
                        // 更新拖拽手柄位置
                        dragDivider.style.left = newPosition + '%';
                        
                        // 实时更新Grid列模板
                        updateGridColumnsFromResizer();
                        
                    } else if (dragDivider.classList.contains('horizontal')) {
                        // 调整行高
                        var gridRect = grid.getBoundingClientRect();
                        var newPosition = (e.clientY - gridRect.top) / gridRect.height * 100;
                        
                        // 限制在10%-90%之间
                        newPosition = Math.max(10, Math.min(90, newPosition));
                        
                        // 更新拖拽手柄位置
                        dragDivider.style.top = newPosition + '%';
                        
                        // 实时更新Grid行模板
                        updateGridRowsFromResizer();
                    }
                    
                    e.preventDefault();
                });

                document.addEventListener('mouseup', function() {
                    if (isDragging && dragDivider) {
                        isDragging = false;
                        dragDivider.classList.remove('dragging');
                        grid.classList.remove('dragging-divider');
                        
                        // 恢复鼠标状态
                        document.body.style.cursor = '';
                        document.body.style.userSelect = '';
                        
                        dragDivider = null;
                        
                        console.log('Grid调整完成');
                    }
                });
            }
            
            // 根据拖拽线位置更新Grid列模板
            function updateGridColumnsFromDivider() {
                var grid = document.getElementById('previewGrid');
                var dividers = grid.querySelectorAll('.grid-divider-line.vertical');
                var gridInfo = getLayoutGrid(currentLayout);
                var colCount = (gridInfo.columns.match(/1fr/g) || []).length;
                
                if (dividers.length === 0) return;
                
                // 获取所有拖拽手柄的位置
                var positions = [0];
                dividers.forEach(function(divider) {
                    var pos = parseFloat(divider.style.left) || 0;
                    positions.push(pos);
                });
                positions.push(100);
                positions.sort(function(a, b) { return a - b; });
                
                // 计算每列的宽度
                var columnSizes = [];
                for (var i = 1; i < positions.length; i++) {
                    var width = positions[i] - positions[i-1];
                    columnSizes.push(width + 'fr');
                }
                
                // 更新Grid模板
                grid.style.gridTemplateColumns = columnSizes.join(' ');
            }
            
            // 根据拖拽线位置更新Grid行模板
            function updateGridRowsFromDivider() {
                var grid = document.getElementById('previewGrid');
                var dividers = grid.querySelectorAll('.grid-divider-line.horizontal');
                var gridInfo = getLayoutGrid(currentLayout);
                var rowCount = (gridInfo.rows.match(/1fr/g) || []).length;
                
                if (dividers.length === 0) return;
                
                // 获取所有拖拽线的位置
                var positions = [0];
                dividers.forEach(function(divider) {
                    var pos = parseFloat(divider.style.top) || 0;
                    positions.push(pos);
                });
                positions.push(100);
                positions.sort(function(a, b) { return a - b; });
                
                // 计算每行的高度
                var rowSizes = [];
                for (var i = 1; i < positions.length; i++) {
                    var height = positions[i] - positions[i-1];
                    rowSizes.push(height + 'fr');
                }
                
                // 更新Grid模板
                grid.style.gridTemplateRows = rowSizes.join(' ');
            }

            // 实时更新网格布局预览（拖拽过程中）
            function updateGridLayoutPreview() {
                var grid = document.getElementById('previewGrid');
                if (!grid) return;
                
                var dividers = grid.querySelectorAll('.grid-divider-line');
                var canvasWidth = grid.offsetWidth;
                var canvasHeight = grid.offsetHeight;
                
                var verticalDividers = [];
                var horizontalDividers = [];
                
                dividers.forEach(function(divider) {
                    if (divider.classList.contains('vertical')) {
                        verticalDividers.push(parseInt(divider.style.left));
                    } else if (divider.classList.contains('horizontal')) {
                        horizontalDividers.push(parseInt(divider.style.top));
                    }
                });
                
                // 排序分割线位置
                verticalDividers.sort(function(a, b) { return a - b; });
                horizontalDividers.sort(function(a, b) { return a - b; });
                
                // 计算列宽（像素值）
                var columnSizes = [];
                var lastPos = 0;
                for (var i = 0; i < verticalDividers.length; i++) {
                    columnSizes.push((verticalDividers[i] - lastPos) + 'px');
                    lastPos = verticalDividers[i];
                }
                columnSizes.push((canvasWidth - lastPos) + 'px');
                
                // 计算行高（像素值）
                var rowSizes = [];
                lastPos = 0;
                for (var j = 0; j < horizontalDividers.length; j++) {
                    rowSizes.push((horizontalDividers[j] - lastPos) + 'px');
                    lastPos = horizontalDividers[j];
                }
                rowSizes.push((canvasHeight - lastPos) + 'px');
                
                // 应用新的网格布局
                overlay.style.gridTemplateColumns = columnSizes.join(' ');
                overlay.style.gridTemplateRows = rowSizes.join(' ');
            }

            // 更新网格布局
            function updateGridLayout() {
                var overlay = document.getElementById('splitOverlay');
                if (!overlay) return;
                
                var dividers = previewCanvas.querySelectorAll('.grid-divider-line');
                var canvasWidth = previewCanvas.offsetWidth;
                var canvasHeight = previewCanvas.offsetHeight;
                
                var verticalDividers = [];
                var horizontalDividers = [];
                
                dividers.forEach(function(divider) {
                    if (divider.classList.contains('vertical')) {
                        verticalDividers.push(parseInt(divider.style.left));
                    } else if (divider.classList.contains('horizontal')) {
                        horizontalDividers.push(parseInt(divider.style.top));
                    }
                });
                
                // 排序分割线位置
                verticalDividers.sort(function(a, b) { return a - b; });
                horizontalDividers.sort(function(a, b) { return a - b; });
                
                // 计算列宽
                var columnSizes = [];
                var lastPos = 0;
                for (var i = 0; i < verticalDividers.length; i++) {
                    columnSizes.push((verticalDividers[i] - lastPos) + 'px');
                    lastPos = verticalDividers[i];
                }
                columnSizes.push((canvasWidth - lastPos) + 'px');
                
                // 计算行高
                var rowSizes = [];
                lastPos = 0;
                for (var j = 0; j < horizontalDividers.length; j++) {
                    rowSizes.push((horizontalDividers[j] - lastPos) + 'px');
                    lastPos = horizontalDividers[j];
                }
                rowSizes.push((canvasHeight - lastPos) + 'px');
                
                // 应用新的网格布局
                overlay.style.gridTemplateColumns = columnSizes.join(' ');
                overlay.style.gridTemplateRows = rowSizes.join(' ');
            }

            // 拆分图片（按布局单元格）
            function splitImage() {
                if (!uploadedImage) return;

                splitBtn.textContent = '拆分中...';
                splitBtn.disabled = true;

                setTimeout(function() {
                    try {
                        // 直接从实际网格DOM元素获取单元格位置信息
                        var grid = document.getElementById('previewGrid');
                        var cells = grid ? grid.querySelectorAll('.grid-cell') : [];
                        if (cells.length === 0) {
                            throw new Error('无法获取布局单元格信息');
                        }
                        
                        var gridRect = grid.getBoundingClientRect();
                        var cellsInfo = [];
                        
                        cells.forEach(function(cell, index) {
                            var cellRect = cell.getBoundingClientRect();
                            
                            // 计算相对于网格的位置和尺寸（0-1范围）
                            var left = (cellRect.left - gridRect.left - 10) / (gridRect.width - 20); // 减去padding
                            var top = (cellRect.top - gridRect.top - 10) / (gridRect.height - 20);
                            var width = cellRect.width / (gridRect.width - 20);
                            var height = cellRect.height / (gridRect.height - 20);
                            
                            cellsInfo.push({
                                index: index,
                                left: Math.max(0, left),
                                top: Math.max(0, top),
                                width: Math.min(1, width),
                                height: Math.min(1, height)
                            });
                        });
                        
                        console.log('获取到网格单元格信息:', cellsInfo);

                        splitResults = [];

                        // 获取实际画布尺寸
                        var canvas = document.getElementById('previewCanvas');
                        var actualCanvasWidth = parseInt(window.getComputedStyle(canvas).width) || 800;
                        var actualCanvasHeight = parseInt(window.getComputedStyle(canvas).height) || 600;
                        
                        // 创建临时canvas来绘制整个调整后的图片
                        var tempCanvas = document.createElement('canvas');
                        var tempCtx = tempCanvas.getContext('2d');
                        tempCanvas.width = actualCanvasWidth;
                        tempCanvas.height = actualCanvasHeight;

                        // 绘制调整后的图片到临时canvas
                        tempCtx.drawImage(uploadedImage.element, 0, 0, actualCanvasWidth, actualCanvasHeight);

                        // 根据布局单元格进行拆分
                        cellsInfo.forEach(function(cell, index) {
                            // 计算单元格在画布上的实际位置和大小
                            var cellX = Math.round(cell.left * actualCanvasWidth);
                            var cellY = Math.round(cell.top * actualCanvasHeight);
                            var cellWidth = Math.round(cell.width * actualCanvasWidth);
                            var cellHeight = Math.round(cell.height * actualCanvasHeight);

                            // 确保尺寸不为0
                            if (cellWidth <= 0) cellWidth = 1;
                            if (cellHeight <= 0) cellHeight = 1;

                            // 创建单独的canvas for this piece
                            var canvas = document.createElement('canvas');
                            var ctx = canvas.getContext('2d');
                            canvas.width = cellWidth;
                            canvas.height = cellHeight;

                            // 从临时canvas中提取片段
                            ctx.drawImage(
                                tempCanvas,
                                cellX, cellY, cellWidth, cellHeight,
                                0, 0, cellWidth, cellHeight
                            );

                            // 转换为数据URL
                            var format = outputFormat.value;
                            var dataURL;
                            if (format === 'jpg') {
                                dataURL = canvas.toDataURL('image/jpeg', parseFloat(quality.value));
                            } else if (format === 'webp') {
                                dataURL = canvas.toDataURL('image/webp', parseFloat(quality.value));
                            } else {
                                dataURL = canvas.toDataURL('image/png');
                            }

                            splitResults.push({
                                index: index + 1,
                                dataURL: dataURL,
                                filename: filePrefix.value + '_' + (index + 1) + '.' + format,
                                width: cellWidth,
                                height: cellHeight,
                                cellInfo: cell
                            });
                        });

                        displayResults();
                        splitBtn.textContent = '开始拆分';
                        splitBtn.disabled = false;
                        layui.layer.msg('拆分完成！共生成 ' + splitResults.length + ' 张图片', { icon: 1 });
                    } catch (error) {
                        console.error('拆分失败:', error);
                        splitBtn.textContent = '开始拆分';
                        splitBtn.disabled = false;
                        layui.layer.msg('拆分失败: ' + error.message, { icon: 2 });
                    }
                }, 100);
            }

            // 获取布局单元格信息
            function getLayoutCellsInfo(layoutId) {
                try {
                    // 获取当前布局的HTML预览
                    var layoutPreview = document.querySelector('.layout-preview.layout-' + layoutId);
                    if (!layoutPreview) {
                        console.error('找不到布局预览:', layoutId);
                        return null;
                    }

                    var cells = layoutPreview.querySelectorAll('.layout-cell');
                    if (!cells || cells.length === 0) {
                        console.error('布局中没有找到单元格');
                        return null;
                    }

                    // 获取网格配置
                    var grid = getLayoutGrid(layoutId);
                    var columnCount = (grid.columns.match(/1fr/g) || []).length;
                    var rowCount = (grid.rows.match(/1fr/g) || []).length;

                    var cellsInfo = [];

                    cells.forEach(function(cell, index) {
                        var style = cell.getAttribute('style') || '';
                        var cellInfo = {
                            index: index,
                            left: 0,
                            top: 0,
                            width: 1 / columnCount,
                            height: 1 / rowCount,
                            gridColumn: '1',
                            gridRow: '1'
                        };

                        // 解析grid-column属性
                        var columnMatch = style.match(/grid-column:\s*([^;]+)/);
                        var rowMatch = style.match(/grid-row:\s*([^;]+)/);

                        if (columnMatch) {
                            cellInfo.gridColumn = columnMatch[1].trim();
                        }
                        if (rowMatch) {
                            cellInfo.gridRow = rowMatch[1].trim();
                        }

                        // 计算单元格的实际位置和大小
                        var colInfo = parseGridPosition(cellInfo.gridColumn, columnCount);
                        var rowInfo = parseGridPosition(cellInfo.gridRow, rowCount);

                        cellInfo.left = (colInfo.start - 1) / columnCount;
                        cellInfo.top = (rowInfo.start - 1) / rowCount;
                        cellInfo.width = colInfo.span / columnCount;
                        cellInfo.height = rowInfo.span / rowCount;

                        // 边界检查和修正，确保不超出画布范围
                        if (cellInfo.left < 0) cellInfo.left = 0;
                        if (cellInfo.top < 0) cellInfo.top = 0;
                        if (cellInfo.left > 1) cellInfo.left = 1;
                        if (cellInfo.top > 1) cellInfo.top = 1;
                        
                        if (cellInfo.left + cellInfo.width > 1) {
                            cellInfo.width = 1 - cellInfo.left;
                        }
                        if (cellInfo.top + cellInfo.height > 1) {
                            cellInfo.height = 1 - cellInfo.top;
                        }
                        
                        if (cellInfo.width <= 0) cellInfo.width = 0.1;
                        if (cellInfo.height <= 0) cellInfo.height = 0.1;

                        cellsInfo.push(cellInfo);
                    });

                    // 调试输出：显示12图布局的详细计算过程
                    if (layoutId.startsWith('12-')) {
                        console.log('=== 12图布局解析详情 ===');
                        console.log('布局ID:', layoutId);
                        console.log('网格配置:', grid);
                        console.log('列数:', columnCount, '行数:', rowCount);
                        cellsInfo.forEach(function(cell, index) {
                            console.log('单元格' + (index + 1) + ':', {
                                gridColumn: cell.gridColumn,
                                gridRow: cell.gridRow,
                                left: cell.left,
                                top: cell.top,
                                width: cell.width,
                                height: cell.height,
                                rightEdge: cell.left + cell.width,
                                bottomEdge: cell.top + cell.height
                            });
                        });
                        console.log('=== 解析完成 ===');
                    }
                    
                    console.log('解析到 ' + cellsInfo.length + ' 个单元格:', cellsInfo);
                    return cellsInfo;
                } catch (error) {
                    console.error('解析布局单元格失败:', error);
                    return null;
                }
            }

            // 解析grid位置字符串（如"1 / 3", "span 2", "2"等）
            function parseGridPosition(position, totalCount) {
                var result = { start: 1, span: 1 };
                
                if (!position || position === 'auto') {
                    return result;
                }

                // 处理 "span N" 格式
                var spanMatch = position.match(/span\s+(\d+)/);
                if (spanMatch) {
                    result.span = parseInt(spanMatch[1]);
                    return result;
                }

                // 处理 "start / end" 格式
                var slashMatch = position.match(/(\d+)\s*\/\s*(\d+)/);
                if (slashMatch) {
                    result.start = parseInt(slashMatch[1]);
                    var end = parseInt(slashMatch[2]);
                    result.span = end - result.start;
                    return result;
                }

                // 处理单个数字
                var numberMatch = position.match(/^\d+$/);
                if (numberMatch) {
                    result.start = parseInt(position);
                    return result;
                }

                return result;
            }

            // 解析网格模板字符串
            function parseGridTemplate(template, totalSize) {
                if (!template) return [totalSize];
                
                var sizes = [];
                var parts = template.split(' ');
                
                // 首先识别所有部分的类型和值
                var pixelSizes = [];
                var frValues = [];
                var totalPixels = 0;
                var totalFr = 0;
                
                for (var i = 0; i < parts.length; i++) {
                    var part = parts[i].trim();
                    if (part.includes('px')) {
                        var pixels = parseInt(part);
                        pixelSizes[i] = pixels;
                        totalPixels += pixels;
                    } else if (part.includes('fr')) {
                        var frValue = parseInt(part.replace('fr', '')) || 1;
                        frValues[i] = frValue;
                        totalFr += frValue;
                    } else {
                        // 默认当作1fr处理
                        frValues[i] = 1;
                        totalFr += 1;
                    }
                }
                
                // 计算fr单位可用的剩余空间
                var remainingSpace = totalSize - totalPixels;
                var frUnitSize = totalFr > 0 ? remainingSpace / totalFr : 0;
                
                // 生成最终的尺寸数组
                for (var i = 0; i < parts.length; i++) {
                    if (pixelSizes[i] !== undefined) {
                        sizes.push(pixelSizes[i]);
                    } else if (frValues[i] !== undefined) {
                        sizes.push(Math.floor(frUnitSize * frValues[i]));
                    }
                }
                
                return sizes;
            }

            // 显示拆分结果
            function displayResults() {
                resultList.innerHTML = '';

                splitResults.forEach(function(result) {
                    var item = document.createElement('div');
                    item.className = 'result-item';

                    item.innerHTML = 
                        '<img src="' + result.dataURL + '" class="result-preview">' +
                        '<div class="result-info">' +
                        '<div class="result-name">' + result.filename + '</div>' +
                        '<div class="result-size">' + result.width + ' × ' + result.height + '</div>' +
                        '</div>' +
                        '<button class="download-btn" onclick="downloadSingle(' + (result.index - 1) + ')">' +
                        '<i class="fas fa-download"></i>' +
                        '</button>';

                    resultList.appendChild(item);
                });

                downloadAllBtn.disabled = false;
            }

            // 下载单个图片
            window.downloadSingle = function(index) {
                var result = splitResults[index];
                var link = document.createElement('a');
                link.download = result.filename;
                link.href = result.dataURL;
                link.click();
            };

            // 批量下载
            function downloadAllImages() {
                if (splitResults.length === 0) return;

                downloadAllBtn.textContent = '打包中...';
                downloadAllBtn.disabled = true;

                var zip = new JSZip();

                splitResults.forEach(function(result) {
                    var base64Data = result.dataURL.split(',')[1];
                    zip.file(result.filename, base64Data, { base64: true });
                });

                zip.generateAsync({ type: 'blob' }).then(function(content) {
                    saveAs(content, 'split_images_' + currentLayout + '.zip');
                    downloadAllBtn.textContent = '批量下载 (ZIP)';
                    downloadAllBtn.disabled = false;
                });
            }

            // 更新图片信息
            function updateImageInfo() {
                if (uploadedImage) {
                    var grid = getLayoutGrid(currentLayout);
                    // 获取实际的布局单元格信息
                    var cellsInfo = getLayoutCellsInfo(currentLayout);
                    var totalCells, colCount, rowCount;
                    
                    if (cellsInfo && cellsInfo.length > 0) {
                        // 使用实际单元格数量
                        totalCells = cellsInfo.length;
                        
                        // 计算实际使用的网格尺寸
                        var maxCol = 0, maxRow = 0;
                        cellsInfo.forEach(function(cell) {
                            var colInfo = parseGridPosition(cell.gridColumn || '1', 12);
                            var rowInfo = parseGridPosition(cell.gridRow || '1', 12);
                            maxCol = Math.max(maxCol, colInfo.start + colInfo.span - 1);
                            maxRow = Math.max(maxRow, rowInfo.start + rowInfo.span - 1);
                        });
                        colCount = Math.max(maxCol, (grid.columns.match(/1fr/g) || []).length);
                        rowCount = Math.max(maxRow, (grid.rows.match(/1fr/g) || []).length);
                    } else {
                        // 回退到简单计算
                        colCount = (grid.columns.match(/1fr/g) || []).length;
                        rowCount = (grid.rows.match(/1fr/g) || []).length;
                        totalCells = colCount * rowCount;
                    }

                    var pieceWidth = Math.floor(canvasWidth / colCount);
                    var pieceHeight = Math.floor(canvasHeight / rowCount);

                    imageInfo.innerHTML = 
                        '<div><strong>原图尺寸:</strong> ' + uploadedImage.width + ' × ' + uploadedImage.height + '</div>' +
                        '<div><strong>画布尺寸:</strong> ' + canvasWidth + ' × ' + canvasHeight + '</div>' +
                        '<div><strong>文件大小:</strong> ' + formatFileSize(uploadedImage.file.size) + '</div>' +
                        '<div><strong>当前布局:</strong> ' + currentLayout + '</div>' +
                        '<div><strong>网格规格:</strong> ' + colCount + ' × ' + rowCount + '</div>' +
                        '<div><strong>拆分数量:</strong> ' + totalCells + ' 张</div>';
                } else {
                    imageInfo.textContent = '请先上传图片';
                }
            }

            // 更新画布信息显示
            function updateImageCounter() {
                imageCounter.textContent = '画布: ' + canvasWidth + '×' + canvasHeight;
            }

            // 格式化文件大小
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                var k = 1024;
                var sizes = ['Bytes', 'KB', 'MB', 'GB'];
                var i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // 重置编辑器
            function resetEditor() {
                uploadedImage = null;
                splitResults = [];
                previewCanvas.innerHTML = '';
                
                // 重新初始化网格预览
                updatePreviewGrid();
                
                // 重新添加调整手柄
                previewCanvas.appendChild(resizeHandles);

                splitBtn.style.display = 'none';
                updateImageInfo();
                
                resultList.innerHTML = '<div style="text-align: center; color: var(--text-disabled); padding: 20px;">暂无拆分结果</div>';
                downloadAllBtn.disabled = true;
            }

            // 主题切换
            function changeTheme(color) {
                var colors = {
                    orange: { primary: '#e67e22', light: '#eb984e', dark: '#d35400' },
                    blue: { primary: '#3498db', light: '#5dade2', dark: '#2980b9' },
                    green: { primary: '#27ae60', light: '#58d68d', dark: '#229954' },
                    purple: { primary: '#9b59b6', light: '#bb8fce', dark: '#8e44ad' },
                    red: { primary: '#e74c3c', light: '#ec7063', dark: '#c0392b' },
                    yellow: { primary: '#f1c40f', light: '#f7dc6f', dark: '#d4ac0d' },
                    'contrast-dark': { primary: '#2c3e50', light: '#566573', dark: '#1b2631' },
                    'contrast-light': { primary: '#ecf0f1', light: '#f8f9fa', dark: '#d5dbdb' }
                };

                var theme = colors[color];
                if (theme) {
                    document.documentElement.style.setProperty('--primary', theme.primary);
                    document.documentElement.style.setProperty('--primary-light', theme.light);
                    document.documentElement.style.setProperty('--primary-dark', theme.dark);
                }
            }

            // 布局拖拽功能
            makeDraggable(layoutPanel);
            makeDraggable(propertiesPanel);

            function makeDraggable(element) {
                var isDragging = false;
                var startX, startY, startLeft, startTop;

                element.addEventListener('mousedown', function(e) {
                    if (e.target.closest('.panel-header') || e.target.closest('.section-title')) {
                        isDragging = true;
                        element.classList.add('dragging');
                        
                        startX = e.clientX;
                        startY = e.clientY;
                        startLeft = parseInt(window.getComputedStyle(element).left, 10);
                        startTop = parseInt(window.getComputedStyle(element).top, 10);
                        
                        e.preventDefault();
                    }
                });

                document.addEventListener('mousemove', function(e) {
                    if (!isDragging) return;
                    
                    var deltaX = e.clientX - startX;
                    var deltaY = e.clientY - startY;
                    
                    element.style.left = (startLeft + deltaX) + 'px';
                    element.style.top = (startTop + deltaY) + 'px';
                });

                document.addEventListener('mouseup', function() {
                    if (isDragging) {
                        isDragging = false;
                        element.classList.remove('dragging');
                    }
                });
            }

            // 画布大小调整功能
            setupCanvasResize();

            function setupCanvasResize() {
                var isResizing = false;
                var resizeHandle = null;
                var startX, startY, startWidth, startHeight;

                resizeHandles.addEventListener('mousedown', function(e) {
                    if (e.target.classList.contains('resize-handle')) {
                        isResizing = true;
                        resizeHandle = e.target;
                        resizeHandles.classList.add('active');
                        
                        startX = e.clientX;
                        startY = e.clientY;
                        startWidth = parseInt(window.getComputedStyle(previewCanvas).width, 10);
                        startHeight = parseInt(window.getComputedStyle(previewCanvas).height, 10);
                        
                        e.preventDefault();
                    }
                });

                document.addEventListener('mousemove', function(e) {
                    if (!isResizing) return;
                    
                    var deltaX = e.clientX - startX;
                    var deltaY = e.clientY - startY;
                    var newWidth = startWidth;
                    var newHeight = startHeight;
                    
                    if (resizeHandle.classList.contains('corner')) {
                        if (resizeHandle.classList.contains('se')) {
                            newWidth = startWidth + deltaX;
                            newHeight = startHeight + deltaY;
                        } else if (resizeHandle.classList.contains('ne')) {
                            newWidth = startWidth + deltaX;
                            newHeight = startHeight - deltaY;
                        } else if (resizeHandle.classList.contains('sw')) {
                            newWidth = startWidth - deltaX;
                            newHeight = startHeight + deltaY;
                        } else if (resizeHandle.classList.contains('nw')) {
                            newWidth = startWidth - deltaX;
                            newHeight = startHeight - deltaY;
                        }
                    } else if (resizeHandle.classList.contains('edge')) {
                        if (resizeHandle.classList.contains('e')) {
                            newWidth = startWidth + deltaX;
                        } else if (resizeHandle.classList.contains('w')) {
                            newWidth = startWidth - deltaX;
                        } else if (resizeHandle.classList.contains('s')) {
                            newHeight = startHeight + deltaY;
                        } else if (resizeHandle.classList.contains('n')) {
                            newHeight = startHeight - deltaY;
                        }
                    }
                    
                    // 限制最小和最大尺寸
                    newWidth = Math.max(100, Math.min(2000, newWidth));
                    newHeight = Math.max(100, Math.min(2000, newHeight));
                    
                    previewCanvas.style.width = newWidth + 'px';
                    previewCanvas.style.height = newHeight + 'px';
                    
                    canvasWidth = newWidth;
                    canvasHeight = newHeight;
                    canvasWidthInput.value = newWidth;
                    canvasHeightInput.value = newHeight;
                    
                    updateImageCounter();
                    updateSplitOverlay();
                    addGridDividers(); // 重新添加拖拽手柄
                    setupGridDividerDragging(); // 重新设置拖拽功能
                });

                document.addEventListener('mouseup', function() {
                    if (isResizing) {
                        isResizing = false;
                        resizeHandle = null;
                        resizeHandles.classList.remove('active');
                        // 画布尺寸调整后，同步更新网格尺寸
                        setTimeout(function() {
                            updatePreviewGrid();
                            addGridDividers();
                            setupGridDividerDragging();
                        }, 50);
                    }
                });
            }

            // 监听布局变化更新图片信息
            layoutItems.forEach(function(item) {
                item.addEventListener('click', function() {
                    setTimeout(updateImageInfo, 50);
                });
            });
            
            // 更新网格预览系统
            function updatePreviewGrid() {
                var grid = document.getElementById('previewGrid');
                var canvas = document.getElementById('previewCanvas');
                if (!grid || !canvas) return;
                
                // 确保网格与画布尺寸完全一致
                var canvasStyle = window.getComputedStyle(canvas);
                var canvasWidth = parseInt(canvasStyle.width) || 800;
                var canvasHeight = parseInt(canvasStyle.height) || 600;
                
                // 设置网格尺寸与画布完全一致
                grid.style.width = canvasWidth + 'px';
                grid.style.height = canvasHeight + 'px';
                
                // 更新网格类名和CSS Grid模板
                var gridInfo = getLayoutGrid(currentLayout);
                grid.className = `preview-grid layout-${currentLayout}`;
                grid.style.gridTemplateColumns = gridInfo.columns;
                grid.style.gridTemplateRows = gridInfo.rows;
                
                // 获取当前布局信息
                var cellsInfo = getLayoutCellsInfo(currentLayout);
                
                // 特殊处理8图布局，确保生成正确的8个单元格而不是默认的网格数量
                if (currentLayout.startsWith('8-') && (!cellsInfo || cellsInfo.length === 0)) {
                    // 8图布局强制使用8个单元格
                    var colCount = (gridInfo.columns.match(/1fr/g) || []).length;
                    var rowCount = (gridInfo.rows.match(/1fr/g) || []).length;
                    var totalCells = 8; // 强制设置为8个单元格
                } else if (!cellsInfo || cellsInfo.length === 0) {
                    // 如果无法获取复杂布局信息，使用简单网格计算
                    var colCount = (gridInfo.columns.match(/1fr/g) || []).length;
                    var rowCount = (gridInfo.rows.match(/1fr/g) || []).length;
                    var totalCells = colCount * rowCount;
                }
                
                if (!cellsInfo || cellsInfo.length === 0) {
                    // 清空现有内容
                    grid.innerHTML = '';
                    
                    // 特殊处理8图布局的单元格生成
                    if (currentLayout.startsWith('8-')) {
                        var layout8Configs = {
                            '8-4': [
                                { gridColumn: '1 / 4', gridRow: '1' }, { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '1 / 4', gridRow: '2' }, { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '1 / 4', gridRow: '3' }, { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '1 / 4', gridRow: '4' }, { gridColumn: '4', gridRow: '4' }
                            ],
                            '8-5': [
                                { gridColumn: '1 / 3', gridRow: '1' }, { gridColumn: '3', gridRow: '1 / 3' },
                                { gridColumn: '4', gridRow: '1 / 3' }, { gridColumn: '1 / 3', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3 / 5' }, { gridColumn: '2', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '3' }, { gridColumn: '3 / 5', gridRow: '4' }
                            ],
                            '8-6': [
                                { gridColumn: '1 / 4', gridRow: '1 / 4' }, { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' }, { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }, { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' }, { gridColumn: '3', gridRow: '4' }
                            ],
                            '8-7': [
                                { gridColumn: '1', gridRow: '1' }, { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' }, { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2 / 5', gridRow: '1 / 4' }, { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' }, { gridColumn: '4', gridRow: '4' }
                            ],
                            '8-8': [
                                { gridColumn: '1', gridRow: '1' }, { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' }, { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' }, { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' }, { gridColumn: '2 / 5', gridRow: '2 / 5' }
                            ],
                            '8-9': [
                                { gridColumn: '1', gridRow: '1' }, { gridColumn: '2 / 5', gridRow: '1' },
                                { gridColumn: '1 / 4', gridRow: '2' }, { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' }, { gridColumn: '2 / 5', gridRow: '3' },
                                { gridColumn: '1 / 4', gridRow: '4' }, { gridColumn: '4', gridRow: '4' }
                            ],
                            '8-10': [
                                { gridColumn: '1 / 7', gridRow: '1 / 5' }, { gridColumn: '7 / 13', gridRow: '1 / 5' },
                                { gridColumn: '1 / 4', gridRow: '5 / 9' }, { gridColumn: '4 / 7', gridRow: '5 / 9' },
                                { gridColumn: '7 / 10', gridRow: '5 / 9' }, { gridColumn: '10 / 13', gridRow: '5 / 9' },
                                { gridColumn: '1 / 7', gridRow: '9 / 13' }, { gridColumn: '7 / 13', gridRow: '9 / 13' }
                            ],
                            '8-11': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' }, { gridColumn: '3 / 5', gridRow: '1 / 3' },
                                { gridColumn: '5 / 7', gridRow: '1 / 3' }, { gridColumn: '1 / 4', gridRow: '3 / 5' },
                                { gridColumn: '4 / 7', gridRow: '3 / 5' }, { gridColumn: '1 / 3', gridRow: '5 / 7' },
                                { gridColumn: '3 / 5', gridRow: '5 / 7' }, { gridColumn: '5 / 7', gridRow: '5 / 7' }
                            ],
                            '8-12': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' }, { gridColumn: '1 / 3', gridRow: '3 / 5' },
                                { gridColumn: '1 / 3', gridRow: '5 / 7' }, { gridColumn: '3 / 5', gridRow: '1 / 4' },
                                { gridColumn: '3 / 5', gridRow: '4 / 7' }, { gridColumn: '5 / 7', gridRow: '1 / 3' },
                                { gridColumn: '5 / 7', gridRow: '3 / 5' }, { gridColumn: '5 / 7', gridRow: '5 / 7' }
                            ],
                            '8-13': [
                                { gridColumn: '1', gridRow: '1' }, { gridColumn: '2', gridRow: '1 / 3' },
                                { gridColumn: '3 / 5', gridRow: '1 / 3' }, { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1 / 3', gridRow: '3 / 5' }, { gridColumn: '3', gridRow: '3 / 5' },
                                { gridColumn: '4', gridRow: '3' }, { gridColumn: '4', gridRow: '4' }
                            ],
                            '8-14': [
                                { gridColumn: '1', gridRow: '1 / 3' }, { gridColumn: '1', gridRow: '3 / 5' },
                                { gridColumn: '2', gridRow: '1 / 3' }, { gridColumn: '2', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '1' }, { gridColumn: '3 / 5', gridRow: '2' },
                                { gridColumn: '3 / 5', gridRow: '3' }, { gridColumn: '3 / 5', gridRow: '4' }
                            ],
                            '8-15': [
                                { gridColumn: '1 / 7', gridRow: '1 / 4' }, { gridColumn: '7 / 13', gridRow: '1 / 4' },
                                { gridColumn: '1 / 5', gridRow: '4 / 7' }, { gridColumn: '5 / 9', gridRow: '4 / 7' },
                                { gridColumn: '9 / 13', gridRow: '4 / 7' }, { gridColumn: '1 / 7', gridRow: '7 / 10' },
                                { gridColumn: '7 / 13', gridRow: '7 / 10' }, { gridColumn: '1 / 13', gridRow: '10 / 15' }
                            ],
                            '8-16': [
                                { gridColumn: '1 / 3', gridRow: '1 / 4' }, { gridColumn: '1 / 3', gridRow: '4 / 7' },
                                { gridColumn: '3 / 5', gridRow: '1 / 3' }, { gridColumn: '3 / 5', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '5 / 7' }, { gridColumn: '5 / 7', gridRow: '1 / 3' },
                                { gridColumn: '5 / 7', gridRow: '3 / 5' }, { gridColumn: '5 / 7', gridRow: '5 / 7' }
                            ],
                            '8-17': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' }, { gridColumn: '3 / 5', gridRow: '1 / 3' },
                                { gridColumn: '1 / 3', gridRow: '3 / 5' }, { gridColumn: '3 / 5', gridRow: '3 / 5' },
                                { gridColumn: '1', gridRow: '5 / 7' }, { gridColumn: '2', gridRow: '5 / 7' },
                                { gridColumn: '3', gridRow: '5 / 7' }, { gridColumn: '4', gridRow: '5 / 7' }
                            ],
                            '8-18': [
                                { gridColumn: '1 / 3', gridRow: '1' }, { gridColumn: '3', gridRow: '1 / 3' },
                                { gridColumn: '4', gridRow: '1 / 3' }, { gridColumn: '1 / 3', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3 / 5' }, { gridColumn: '2', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '3' }, { gridColumn: '3 / 5', gridRow: '4' }
                            ],
                            '8-19': [
                                { gridColumn: '1', gridRow: '1 / 4' }, { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' }, { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '1' }, { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' }, { gridColumn: '4', gridRow: '1 / 4' }
                            ],
                            '8-20': [
                                { gridColumn: '1 / 4', gridRow: '1' }, { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2', gridRow: '2' }, { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' }, { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' }, { gridColumn: '1 / 4', gridRow: '4' }
                            ],
                            '8-21': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' }, { gridColumn: '3 / 5', gridRow: '1 / 3' },
                                { gridColumn: '1', gridRow: '3' }, { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' }, { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '1 / 3', gridRow: '4 / 6' }, { gridColumn: '3 / 5', gridRow: '4 / 6' }
                            ],
                            '8-22': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' }, { gridColumn: '1 / 3', gridRow: '3 / 5' },
                                { gridColumn: '3', gridRow: '1' }, { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' }, { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4 / 6', gridRow: '1 / 3' }, { gridColumn: '4 / 6', gridRow: '3 / 5' }
                            ]
                        };
                        
                        var layoutConfig = layout8Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('9-')) {
                        // 特殊处理9图布局的单元格生成
                        var layout9Configs = {
                            '9-9': [
                                { gridColumn: '1 / 4', gridRow: '1 / 5' },
                                { gridColumn: '4 / 7', gridRow: '1 / 5' },
                                { gridColumn: '7 / 10', gridRow: '1 / 5' },
                                { gridColumn: '10 / 13', gridRow: '1 / 5' },
                                { gridColumn: '1 / 4', gridRow: '5 / 9' },
                                { gridColumn: '4 / 7', gridRow: '5 / 9' },
                                { gridColumn: '7 / 10', gridRow: '5 / 9' },
                                { gridColumn: '10 / 13', gridRow: '5 / 9' },
                                { gridColumn: '1 / 13', gridRow: '9 / 13' }
                            ],
                            '9-11': [
                                { gridColumn: '1 / 4', gridRow: '1 / 5' },
                                { gridColumn: '4 / 7', gridRow: '1 / 5' },
                                { gridColumn: '7 / 10', gridRow: '1 / 5' },
                                { gridColumn: '10 / 13', gridRow: '1 / 5' },
                                { gridColumn: '1 / 4', gridRow: '5 / 9' },
                                { gridColumn: '4 / 7', gridRow: '5 / 9' },
                                { gridColumn: '7 / 13', gridRow: '5 / 13' },
                                { gridColumn: '1 / 4', gridRow: '9 / 13' },
                                { gridColumn: '4 / 7', gridRow: '9 / 13' }
                            ]
                        };
                        
                        var layoutConfig = layout9Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('10-')) {
                        // 特殊处理10图布局的单元格生成
                        var layout10Configs = {
                            '10-2': [
                                { gridColumn: '1 / 13', gridRow: '1 / 4' },
                                { gridColumn: '1 / 5', gridRow: '4 / 7' },
                                { gridColumn: '5 / 9', gridRow: '4 / 7' },
                                { gridColumn: '9 / 13', gridRow: '4 / 7' },
                                { gridColumn: '1 / 5', gridRow: '7 / 10' },
                                { gridColumn: '5 / 9', gridRow: '7 / 10' },
                                { gridColumn: '9 / 13', gridRow: '7 / 10' },
                                { gridColumn: '1 / 5', gridRow: '10 / 13' },
                                { gridColumn: '5 / 9', gridRow: '10 / 13' },
                                { gridColumn: '9 / 13', gridRow: '10 / 13' }
                            ],
                            '10-3': [
                                { gridColumn: '1 / 4', gridRow: '1 / 13' },
                                { gridColumn: '4 / 7', gridRow: '1 / 5' },
                                { gridColumn: '4 / 7', gridRow: '5 / 9' },
                                { gridColumn: '4 / 7', gridRow: '9 / 13' },
                                { gridColumn: '7 / 10', gridRow: '1 / 5' },
                                { gridColumn: '7 / 10', gridRow: '5 / 9' },
                                { gridColumn: '7 / 10', gridRow: '9 / 13' },
                                { gridColumn: '10 / 13', gridRow: '1 / 5' },
                                { gridColumn: '10 / 13', gridRow: '5 / 9' },
                                { gridColumn: '10 / 13', gridRow: '9 / 13' }
                            ],
                            '10-4': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3 / 5', gridRow: '3 / 5' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' }
                            ],
                            '10-5': [
                                { gridColumn: '1 / 5', gridRow: '1 / 5' },
                                { gridColumn: '1 / 5', gridRow: '5 / 9' },
                                { gridColumn: '5 / 7', gridRow: '1 / 3' },
                                { gridColumn: '7 / 9', gridRow: '1 / 3' },
                                { gridColumn: '5 / 9', gridRow: '3 / 7' },
                                { gridColumn: '5', gridRow: '7' },
                                { gridColumn: '6', gridRow: '7' },
                                { gridColumn: '7', gridRow: '7' },
                                { gridColumn: '8', gridRow: '7' },
                                { gridColumn: '5 / 9', gridRow: '8' }
                            ],
                            '10-6': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '1 / 3', gridRow: '2 / 4' },
                                { gridColumn: '3 / 5', gridRow: '2 / 4' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '10-7': [
                                { gridColumn: '1 / 3', gridRow: '1 / 3' },
                                { gridColumn: '3 / 5', gridRow: '1 / 3' },
                                { gridColumn: '5 / 7', gridRow: '1 / 3' },
                                { gridColumn: '1 / 3', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '3' },
                                { gridColumn: '5 / 7', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '4' },
                                { gridColumn: '1 / 3', gridRow: '5 / 7' },
                                { gridColumn: '3 / 5', gridRow: '5 / 7' },
                                { gridColumn: '5 / 7', gridRow: '5 / 7' }
                            ],
                            '10-8': [
                                { gridColumn: '1 / 5', gridRow: '1 / 4' },
                                { gridColumn: '5 / 9', gridRow: '1 / 4' },
                                { gridColumn: '9 / 13', gridRow: '1 / 4' },
                                { gridColumn: '1 / 4', gridRow: '4 / 10' },
                                { gridColumn: '4 / 7', gridRow: '4 / 10' },
                                { gridColumn: '7 / 10', gridRow: '4 / 10' },
                                { gridColumn: '10 / 13', gridRow: '4 / 10' },
                                { gridColumn: '1 / 5', gridRow: '10 / 13' },
                                { gridColumn: '5 / 9', gridRow: '10 / 13' },
                                { gridColumn: '9 / 13', gridRow: '10 / 13' }
                            ],
                            '10-9': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1 / 3' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '1 / 3', gridRow: '3 / 5' },
                                { gridColumn: '3 / 5', gridRow: '3' },
                                { gridColumn: '3 / 5', gridRow: '4' }
                            ],
                            '10-10': [
                                { gridColumn: '1 / 7', gridRow: '1 / 5' },
                                { gridColumn: '7 / 13', gridRow: '1 / 5' },
                                { gridColumn: '1 / 4', gridRow: '5 / 9' },
                                { gridColumn: '4 / 7', gridRow: '5 / 9' },
                                { gridColumn: '7 / 10', gridRow: '5 / 9' },
                                { gridColumn: '10 / 13', gridRow: '5 / 9' },
                                { gridColumn: '1 / 4', gridRow: '9 / 13' },
                                { gridColumn: '4 / 7', gridRow: '9 / 13' },
                                { gridColumn: '7 / 10', gridRow: '9 / 13' },
                                { gridColumn: '10 / 13', gridRow: '9 / 13' }
                            ],
                            '10-11': [
                                { gridColumn: '1 / 5', gridRow: '1 / 5' },
                                { gridColumn: '5 / 9', gridRow: '1 / 5' },
                                { gridColumn: '1 / 5', gridRow: '5 / 9' },
                                { gridColumn: '5 / 7', gridRow: '5 / 7' },
                                { gridColumn: '7 / 9', gridRow: '5 / 7' },
                                { gridColumn: '5 / 7', gridRow: '7 / 9' },
                                { gridColumn: '7', gridRow: '7' },
                                { gridColumn: '8', gridRow: '7' },
                                { gridColumn: '7', gridRow: '8' },
                                { gridColumn: '8', gridRow: '8' }
                            ]
                        };
                        
                        var layoutConfig = layout10Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('11-')) {
                        // 特殊处理11图布局的单元格生成
                        var layout11Configs = {
                            '11-2': [
                                { gridColumn: '1 / 7', gridRow: '1 / 4' },
                                { gridColumn: '7 / 13', gridRow: '1 / 4' },
                                { gridColumn: '1 / 5', gridRow: '4 / 7' },
                                { gridColumn: '5 / 9', gridRow: '4 / 7' },
                                { gridColumn: '9 / 13', gridRow: '4 / 7' },
                                { gridColumn: '1 / 5', gridRow: '7 / 10' },
                                { gridColumn: '5 / 9', gridRow: '7 / 10' },
                                { gridColumn: '9 / 13', gridRow: '7 / 10' },
                                { gridColumn: '1 / 5', gridRow: '10 / 13' },
                                { gridColumn: '5 / 9', gridRow: '10 / 13' },
                                { gridColumn: '9 / 13', gridRow: '10 / 13' }
                            ],
                            '11-3': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2 / 4' },
                                { gridColumn: '2 / 4', gridRow: '2 / 4' },
                                { gridColumn: '4', gridRow: '2 / 4' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '11-4': [
                                { gridColumn: '1 / 16', gridRow: '1 / 6' },
                                { gridColumn: '1 / 4', gridRow: '6 / 11' },
                                { gridColumn: '4 / 7', gridRow: '6 / 11' },
                                { gridColumn: '7 / 10', gridRow: '6 / 11' },
                                { gridColumn: '10 / 13', gridRow: '6 / 11' },
                                { gridColumn: '13 / 16', gridRow: '6 / 11' },
                                { gridColumn: '1 / 4', gridRow: '11 / 16' },
                                { gridColumn: '4 / 7', gridRow: '11 / 16' },
                                { gridColumn: '7 / 10', gridRow: '11 / 16' },
                                { gridColumn: '10 / 13', gridRow: '11 / 16' },
                                { gridColumn: '13 / 16', gridRow: '11 / 16' }
                            ],
                            '11-5': [
                                { gridColumn: '1 / 4', gridRow: '1 / 6' },
                                { gridColumn: '4 / 7', gridRow: '1 / 6' },
                                { gridColumn: '7 / 10', gridRow: '1 / 6' },
                                { gridColumn: '10 / 13', gridRow: '1 / 6' },
                                { gridColumn: '13 / 16', gridRow: '1 / 6' },
                                { gridColumn: '1 / 16', gridRow: '6 / 11' },
                                { gridColumn: '1 / 4', gridRow: '11 / 16' },
                                { gridColumn: '4 / 7', gridRow: '11 / 16' },
                                { gridColumn: '7 / 10', gridRow: '11 / 16' },
                                { gridColumn: '10 / 13', gridRow: '11 / 16' },
                                { gridColumn: '13 / 16', gridRow: '11 / 16' }
                            ],
                            '11-6': [
                                { gridColumn: '1 / 4', gridRow: '1 / 6' },
                                { gridColumn: '4 / 7', gridRow: '1 / 6' },
                                { gridColumn: '7 / 10', gridRow: '1 / 6' },
                                { gridColumn: '10 / 13', gridRow: '1 / 6' },
                                { gridColumn: '13 / 16', gridRow: '1 / 6' },
                                { gridColumn: '1 / 4', gridRow: '6 / 11' },
                                { gridColumn: '4 / 7', gridRow: '6 / 11' },
                                { gridColumn: '7 / 10', gridRow: '6 / 11' },
                                { gridColumn: '10 / 13', gridRow: '6 / 11' },
                                { gridColumn: '13 / 16', gridRow: '6 / 11' },
                                { gridColumn: '1 / 16', gridRow: '11 / 16' }
                            ]
                        };
                        
                        var layoutConfig = layout11Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('12-')) {
                        // 特殊处理12图布局的单元格生成
                        var layout12Configs = {
                            '12-1': [
                                { gridColumn: '1 / 4', gridRow: '1' },
                                { gridColumn: '1 / 4', gridRow: '2' },
                                { gridColumn: '1 / 4', gridRow: '3' },
                                { gridColumn: '1 / 4', gridRow: '4' },
                                { gridColumn: '1 / 4', gridRow: '5' },
                                { gridColumn: '1 / 4', gridRow: '6' },
                                { gridColumn: '4 / 7', gridRow: '1' },
                                { gridColumn: '4 / 7', gridRow: '2' },
                                { gridColumn: '4 / 7', gridRow: '3' },
                                { gridColumn: '4 / 7', gridRow: '4' },
                                { gridColumn: '4 / 7', gridRow: '5' },
                                { gridColumn: '4 / 7', gridRow: '6' }
                            ],
                            '12-2': [
                                { gridColumn: '1 / 6', gridRow: '1 / 6' },
                                { gridColumn: '6', gridRow: '1' },
                                { gridColumn: '6', gridRow: '2' },
                                { gridColumn: '6', gridRow: '3' },
                                { gridColumn: '6', gridRow: '4' },
                                { gridColumn: '6', gridRow: '5' },
                                { gridColumn: '1', gridRow: '6' },
                                { gridColumn: '2', gridRow: '6' },
                                { gridColumn: '3', gridRow: '6' },
                                { gridColumn: '4', gridRow: '6' },
                                { gridColumn: '5', gridRow: '6' },
                                { gridColumn: '6', gridRow: '6' }
                            ],
                            '12-3': [
                                { gridColumn: '1 / 4', gridRow: '1 / 5' },
                                { gridColumn: '1 / 4', gridRow: '5 / 9' },
                                { gridColumn: '1 / 4', gridRow: '9 / 13' },
                                { gridColumn: '4 / 7', gridRow: '1 / 4' },
                                { gridColumn: '7 / 10', gridRow: '1 / 4' },
                                { gridColumn: '10 / 13', gridRow: '1 / 4' },
                                { gridColumn: '4 / 7', gridRow: '4 / 7' },
                                { gridColumn: '7 / 10', gridRow: '4 / 7' },
                                { gridColumn: '10 / 13', gridRow: '4 / 7' },
                                { gridColumn: '4 / 10', gridRow: '7 / 13' },
                                { gridColumn: '10 / 13', gridRow: '7 / 10' },
                                { gridColumn: '10 / 13', gridRow: '10 / 13' }
                            ],
                            '12-4': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '4', gridRow: '3' }
                            ],
                            '12-5': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' }
                            ]
                        };
                        
                        var layoutConfig = layout12Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('13-')) {
                        // 特殊处理13图布局的单元格生成
                        var layout13Configs = {
                            '13-1': [
                                // 图1-4：第1列，4个图形，各占1行
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                // 图5：第2行第2列，1个图形，占2行2列
                                { gridColumn: '2 / 4', gridRow: '2 / 4' },
                                // 图6-7：第1行第2列，2个图形，各占1列
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                // 图8-9：第4行第2列，2个图形，各占1列
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                // 图10-13：第4列，4个图形，各占1行
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ]
                        };
                        
                        var layoutConfig = layout13Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('14-')) {
                        // 特殊处理14图布局的单元格生成
                        var layout14Configs = {
                            '14-1': [
                                // 第1行：4个图形，各占1列
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                // 第2行：3个图形，第1个占1列，第2个占2列，第3个占1列
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2 / 4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '2' },
                                // 第3行：3个图形，第1个占1列，第2个占2列，第3个占1列
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '2 / 4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '3' },
                                // 第4行：4个图形，各占1列
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '14-2': [
                                // 第1列：7个图形，各占1行
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '1', gridRow: '5' },
                                { gridColumn: '1', gridRow: '6' },
                                { gridColumn: '1', gridRow: '7' },
                                // 第2列：7个图形，各占1行
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '2', gridRow: '5' },
                                { gridColumn: '2', gridRow: '6' },
                                { gridColumn: '2', gridRow: '7' }
                            ]
                        };
                        
                        var layoutConfig = layout14Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else if (currentLayout.startsWith('15-')) {
                        var layout15Configs = {
                            '15-1': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2 / 4', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-2': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '2 / 4', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-3': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '2 / 4', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-4': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '2 / 4', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-5': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '1', gridRow: '5' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '2', gridRow: '5' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '3', gridRow: '5' }
                            ],
                            '15-6': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '5', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '5', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '5', gridRow: '3' }
                            ],
                            '15-7': [
                                { gridColumn: '1 / 3', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-8': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3 / 5', gridRow: '1' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '3' },
                                { gridColumn: '4', gridRow: '4' }
                            ],
                            '15-9': [
                                { gridColumn: '1', gridRow: '1' },
                                { gridColumn: '1', gridRow: '2' },
                                { gridColumn: '1', gridRow: '3' },
                                { gridColumn: '1', gridRow: '4' },
                                { gridColumn: '2', gridRow: '1' },
                                { gridColumn: '2', gridRow: '2' },
                                { gridColumn: '2', gridRow: '3' },
                                { gridColumn: '2', gridRow: '4' },
                                { gridColumn: '3', gridRow: '1' },
                                { gridColumn: '3', gridRow: '2' },
                                { gridColumn: '3', gridRow: '3' },
                                { gridColumn: '3', gridRow: '4' },
                                { gridColumn: '4', gridRow: '1' },
                                { gridColumn: '4', gridRow: '2' },
                                { gridColumn: '4', gridRow: '4' }
                            ]
                        };
                        
                        var layoutConfig = layout15Configs[currentLayout];
                        if (layoutConfig) {
                            layoutConfig.forEach(function(config, i) {
                                var cell = document.createElement('div');
                                cell.className = 'grid-cell';
                                cell.setAttribute('data-index', i);
                                cell.style.gridColumn = config.gridColumn;
                                cell.style.gridRow = config.gridRow;
                                
                                // 添加单元格编号
                                var cellIndex = document.createElement('div');
                                cellIndex.className = 'cell-index';
                                cellIndex.textContent = i + 1;
                                cell.appendChild(cellIndex);
                                
                                grid.appendChild(cell);
                            });
                        }
                    } else {
                        // 生成简单网格单元格
                        for (var i = 0; i < totalCells; i++) {
                            var cell = document.createElement('div');
                            cell.className = 'grid-cell';
                            cell.setAttribute('data-index', i);
                            
                            // 添加单元格编号
                            var cellIndex = document.createElement('div');
                            cellIndex.className = 'cell-index';
                            cellIndex.textContent = i + 1;
                            cell.appendChild(cellIndex);
                            
                            
                            grid.appendChild(cell);
                        }
                    }
                } else {
                    // 使用复杂布局信息生成单元格
                    grid.innerHTML = '';
                    
                    cellsInfo.forEach(function(cellInfo, index) {
                        var cell = document.createElement('div');
                        cell.className = 'grid-cell';
                        cell.setAttribute('data-index', index);
                        
                        // 设置CSS Grid位置（如果有的话）
                        if (cellInfo.gridColumn && cellInfo.gridColumn !== '1') {
                            cell.style.gridColumn = cellInfo.gridColumn;
                        }
                        if (cellInfo.gridRow && cellInfo.gridRow !== '1') {
                            cell.style.gridRow = cellInfo.gridRow;
                        }
                        
                        // 添加单元格编号
                        var cellIndex = document.createElement('div');
                        cellIndex.className = 'cell-index';
                        cellIndex.textContent = index + 1;
                        cell.appendChild(cellIndex);
                        
                        
                        grid.appendChild(cell);
                    });
                }
                
                console.log('网格预览已更新: ' + currentLayout + ', 尺寸: ' + canvasWidth + 'x' + canvasHeight + ', 单元格数量: ' + grid.children.length);
            }

            // 初始化显示默认布局网格和拖拽线
            setTimeout(function() {
                updatePreviewGrid(); // 使用新的网格预览系统
                addGridDividers();
                setupGridDividerDragging(); // 启用网格拖拽功能
                syncLayoutPreviewAspectRatio(); // 初始化时同步布局预览纵横比
            }, 100);
        });
    </script>
</body>

</html>